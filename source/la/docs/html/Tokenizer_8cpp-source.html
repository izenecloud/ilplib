<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>la-manager: /disk/workspace-cpp/la-manager/source/Tokenizer.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>/disk/workspace-cpp/la-manager/source/Tokenizer.cpp</h1><a href="Tokenizer_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Tokenizer.cpp</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> *  Created on: 2009-6-10</span>
<a name="l00005"></a>00005 <span class="comment"> *      Author: Huajie Zhang</span>
<a name="l00006"></a>00006 <span class="comment"> */</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;<a class="code" href="Tokenizer_8h.html">Tokenizer.h</a>&gt;</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="keyword">namespace </span>la_manager {
<a name="l00011"></a>00011 
<a name="l00012"></a><a class="code" href="classla__manager_1_1CharTypeTable.html#4faeb450b4c48e55459ade19145652a2">00012</a>         <a class="code" href="classla__manager_1_1CharTypeTable.html#4faeb450b4c48e55459ade19145652a2">CharTypeTable::CharTypeTable</a>(){
<a name="l00013"></a>00013                 memset(<a class="code" href="classla__manager_1_1CharTypeTable.html#a310585720c29aff0eed743865ead8fc">charTypeTable</a>, 0, <a class="code" href="namespacela__manager.html#209bf4bd6bbc83558619fa8b8f6dc451">TWO_BYPE_MAX</a>);
<a name="l00014"></a>00014                 <span class="comment">// set the lower 4 bit to record default char type</span>
<a name="l00015"></a>00015                 <span class="keywordflow">for</span>(UCS2Char i = 0; i &lt; <a class="code" href="namespacela__manager.html#209bf4bd6bbc83558619fa8b8f6dc451">TWO_BYPE_MAX</a>; i++)
<a name="l00016"></a>00016                 {
<a name="l00017"></a>00017                         <span class="keywordflow">if</span>(UString::isThisAlphaChar(i)
<a name="l00018"></a>00018                                 || UString::isThisDigitChar(i))
<a name="l00019"></a>00019                                 <span class="keywordflow">continue</span>;
<a name="l00020"></a>00020                         <span class="keywordflow">else</span>{
<a name="l00021"></a>00021                                 <a class="code" href="classla__manager_1_1CharTypeTable.html#de4d78b3913cb199ca359d989f73ab30" title="set the defined type for specific char">setDefinedType</a>(i, <a class="code" href="classla__manager_1_1CharTypeTable.html#0f2478ccc6c68f09e814030b82bf0b3e" title="&amp;quot;0001 xxxx&amp;quot;">DEFINED_DIVIDE</a>);
<a name="l00022"></a>00022                                 <a class="code" href="classla__manager_1_1CharTypeTable.html#6f3e4cc8a2f71aee53a5abf4734a2757" title="set the default type for specific char">setDefaultType</a>(i, <a class="code" href="classla__manager_1_1CharTypeTable.html#3e1273a73ef3b0f495c08b53e0fb17ce" title="&amp;quot;xxxx 0001&amp;quot; delimiter character that should removed and divide the string...">DEFAULT_DIVIDE</a>);
<a name="l00023"></a>00023                         }
<a name="l00024"></a>00024                 }
<a name="l00025"></a>00025         }
<a name="l00026"></a><a class="code" href="classla__manager_1_1CharTypeTable.html#53548c650bdf26954fe3b4443290827c">00026</a>         <span class="keywordtype">void</span> <a class="code" href="classla__manager_1_1CharTypeTable.html#53548c650bdf26954fe3b4443290827c" title="change the char type table according to user&amp;#39;s defined option list">CharTypeTable::setConfig</a>(<span class="keyword">const</span> <a class="code" href="classla__manager_1_1TokenizeConfig.html" title="tokenizer option class This class record the user defined options of chars">TokenizeConfig</a>&amp; conf){
<a name="l00027"></a>00027                 <span class="comment">// set the higher 4 bit to record user defined option type</span>
<a name="l00028"></a>00028                 UString str;
<a name="l00029"></a>00029 
<a name="l00030"></a>00030                 str = conf.<a class="code" href="classla__manager_1_1TokenizeConfig.html#a170be8e7618b3c6f451bb1e02738c09">allows</a> ;
<a name="l00031"></a>00031                 <span class="keywordflow">if</span>(!str.empty()){
<a name="l00032"></a>00032                         <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; str.length() ; j ++)
<a name="l00033"></a>00033                                 <a class="code" href="classla__manager_1_1CharTypeTable.html#de4d78b3913cb199ca359d989f73ab30" title="set the defined type for specific char">setDefinedType</a>(str[j], <a class="code" href="classla__manager_1_1CharTypeTable.html#24cd292ce579aec3623576c01f825711" title="&amp;quot;0000 xxxx&amp;quot; use the higher 4 bit to encode the regulator option type defined...">DEFINED_ALLOW</a> );
<a name="l00034"></a>00034                 }
<a name="l00035"></a>00035 
<a name="l00036"></a>00036                 str = conf.<a class="code" href="classla__manager_1_1TokenizeConfig.html#20aa25a2db309aa7ca676e2808aee4f6">divides</a> ;
<a name="l00037"></a>00037                 <span class="keywordflow">if</span>(!str.empty()){
<a name="l00038"></a>00038                         <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; str.length() ; j ++)
<a name="l00039"></a>00039                                 <a class="code" href="classla__manager_1_1CharTypeTable.html#de4d78b3913cb199ca359d989f73ab30" title="set the defined type for specific char">setDefinedType</a>(str[j], <a class="code" href="classla__manager_1_1CharTypeTable.html#0f2478ccc6c68f09e814030b82bf0b3e" title="&amp;quot;0001 xxxx&amp;quot;">DEFINED_DIVIDE</a> );
<a name="l00040"></a>00040                 }
<a name="l00041"></a>00041 
<a name="l00042"></a>00042                 str = conf.<a class="code" href="classla__manager_1_1TokenizeConfig.html#1422c8a46ddfd381f60ec3b302a47555">unites</a> ;
<a name="l00043"></a>00043                 <span class="keywordflow">if</span>(!str.empty()){
<a name="l00044"></a>00044                         <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; str.length() ; j ++)
<a name="l00045"></a>00045                                 <a class="code" href="classla__manager_1_1CharTypeTable.html#de4d78b3913cb199ca359d989f73ab30" title="set the defined type for specific char">setDefinedType</a>(str[j], <a class="code" href="classla__manager_1_1CharTypeTable.html#7c1779063e32cc836decb19a51ada7bb" title="&amp;quot;0010 xxxx&amp;quot; ignored character that should be removed but not divide the...">DEFINED_UNITE</a> );
<a name="l00046"></a>00046                 }
<a name="l00047"></a>00047         }
<a name="l00048"></a><a class="code" href="classla__manager_1_1Tokenizer.html#f5280871ecc5653b41a385bd45579d28">00048</a>         <span class="keywordtype">void</span> <a class="code" href="classla__manager_1_1Tokenizer.html#f5280871ecc5653b41a385bd45579d28" title="set the user defined char types">Tokenizer::setConfig</a>(<span class="keyword">const</span> <a class="code" href="classla__manager_1_1TokenizeConfig.html" title="tokenizer option class This class record the user defined options of chars">TokenizeConfig</a>&amp; conf){
<a name="l00049"></a>00049                 <a class="code" href="classla__manager_1_1Tokenizer.html#6f4cf5fcbd2505e9258f9e570b7e4ce0" title="char type table">table_</a>.<a class="code" href="classla__manager_1_1CharTypeTable.html#53548c650bdf26954fe3b4443290827c" title="change the char type table according to user&amp;#39;s defined option list">setConfig</a>(conf);
<a name="l00050"></a>00050         }
<a name="l00051"></a><a class="code" href="classla__manager_1_1Tokenizer.html#fa10acb0f5ca1e0227d88a159d790bd7">00051</a>         <span class="keywordtype">void</span> <a class="code" href="classla__manager_1_1Tokenizer.html#fa10acb0f5ca1e0227d88a159d790bd7">Tokenizer::setTermType</a>(<a class="code" href="classla__manager_1_1Term.html" title="term information class Term is the output unit of LA manager, This class record the...">Term</a>&amp; term){
<a name="l00052"></a>00052                 UCS2Char last = term.<a class="code" href="classla__manager_1_1Term.html#49c41450545995b9be0e34e05da6fbd1" title="text data of the term">text</a>[term.<a class="code" href="classla__manager_1_1Term.html#fadc9c8437a99b79102bd8be1f53f337">length</a>() - 1];
<a name="l00053"></a>00053                 <span class="keywordflow">if</span>(<a class="code" href="classla__manager_1_1Tokenizer.html#6f4cf5fcbd2505e9258f9e570b7e4ce0" title="char type table">table_</a>.<a class="code" href="classla__manager_1_1CharTypeTable.html#9fcbc2d5747462459023da70ccf0631d" title="check whether defined allow">isDefinedAllow</a>(last))
<a name="l00054"></a>00054                         term.<a class="code" href="classla__manager_1_1Term.html#6964a3845f56be2ee2627be3ef6266e5" title="morpheme type of the term (Todo...)">type</a> = <a class="code" href="classla__manager_1_1Term.html#ec1b1555fbf13256b27fdb0903327704">Term::TERM_TYPE_ALLOW</a>;
<a name="l00055"></a>00055                 <span class="keywordflow">else</span>
<a name="l00056"></a>00056                         term.<a class="code" href="classla__manager_1_1Term.html#6964a3845f56be2ee2627be3ef6266e5" title="morpheme type of the term (Todo...)">type</a> = <a class="code" href="classla__manager_1_1Term.html#f7e0c80b4fb0bb1f9b49730475ea55b6" title="&amp;lt; regular term">Term::TERM_TYPE_DELIMITER</a>;
<a name="l00057"></a>00057         }
<a name="l00058"></a><a class="code" href="classla__manager_1_1Tokenizer.html#022320db1be5f36438cba009f23f8006">00058</a>         <span class="keywordtype">bool</span> <a class="code" href="classla__manager_1_1Tokenizer.html#022320db1be5f36438cba009f23f8006" title="tokenize the input text, output two term lists: raw term list and primary term list...">Tokenizer::tokenize</a>(<span class="keyword">const</span> UString&amp; inputString, <a class="code" href="namespacela__manager.html#06c0aab93982ee3ebc3ef9d0419e619a">TermList</a>&amp; rawTerms, <a class="code" href="namespacela__manager.html#06c0aab93982ee3ebc3ef9d0419e619a">TermList</a>&amp; primTerms){
<a name="l00059"></a>00059                 rawTerms.clear();
<a name="l00060"></a>00060                 primTerms.clear();
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 
<a name="l00064"></a>00064                 <span class="keywordtype">int</span> length = inputString.length();
<a name="l00065"></a>00065                 <span class="keywordflow">if</span>(length == 0)
<a name="l00066"></a>00066                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00067"></a>00067                 <a class="code" href="classla__manager_1_1Term.html" title="term information class Term is the output unit of LA manager, This class record the...">Term</a> term , rterm;
<a name="l00068"></a>00068                 <span class="keywordtype">int</span> wordOffset = 0, charOffset = 0;
<a name="l00069"></a>00069                 <span class="keywordtype">bool</span> inTerm = <span class="keyword">false</span>; <span class="comment">// whether in a term to be add</span>
<a name="l00070"></a>00070                 UCS2Char curChar,preChar;
<a name="l00071"></a>00071 
<a name="l00072"></a>00072                 curChar = inputString.at(0);
<a name="l00073"></a>00073                 term.<a class="code" href="classla__manager_1_1Term.html#59772600e59694bd583af17cef1c0b03" title="start character offset">begin</a> = 0;
<a name="l00074"></a>00074                 term.<a class="code" href="classla__manager_1_1Term.html#49c41450545995b9be0e34e05da6fbd1" title="text data of the term">text</a> += curChar;
<a name="l00075"></a>00075                 preChar = curChar;
<a name="l00076"></a>00076 
<a name="l00077"></a>00077                 <span class="keywordflow">if</span>(<a class="code" href="classla__manager_1_1Tokenizer.html#6f4cf5fcbd2505e9258f9e570b7e4ce0" title="char type table">table_</a>.<a class="code" href="classla__manager_1_1CharTypeTable.html#9fcbc2d5747462459023da70ccf0631d" title="check whether defined allow">isDefinedAllow</a>(curChar)){
<a name="l00078"></a>00078                         rterm.<a class="code" href="classla__manager_1_1Term.html#49c41450545995b9be0e34e05da6fbd1" title="text data of the term">text</a> += curChar;
<a name="l00079"></a>00079                         rterm.<a class="code" href="classla__manager_1_1Term.html#12f5d18ba13ca84aa99dbbff04eba947" title="end character offset">end</a> = charOffset + 1;
<a name="l00080"></a>00080                         <span class="keywordflow">if</span>(!inTerm){
<a name="l00081"></a>00081                                 rterm.<a class="code" href="classla__manager_1_1Term.html#59772600e59694bd583af17cef1c0b03" title="start character offset">begin</a> = charOffset;
<a name="l00082"></a>00082                                 rterm.<a class="code" href="classla__manager_1_1Term.html#8625d3cd801afc5b6c587e0c38d9e323" title="word offset of the term in original text">wordOffset</a> = wordOffset;
<a name="l00083"></a>00083                                 inTerm = <span class="keyword">true</span>;
<a name="l00084"></a>00084                         }
<a name="l00085"></a>00085                 }
<a name="l00086"></a>00086                 <span class="keywordflow">for</span>(charOffset = 1 ; charOffset &lt; length ; charOffset ++){
<a name="l00087"></a>00087                         curChar = inputString.at(charOffset);
<a name="l00088"></a>00088 
<a name="l00089"></a>00089                         <span class="comment">//raw term list</span>
<a name="l00090"></a>00090                         <span class="keywordflow">if</span>( <a class="code" href="classla__manager_1_1Tokenizer.html#6f4cf5fcbd2505e9258f9e570b7e4ce0" title="char type table">table_</a>.<a class="code" href="classla__manager_1_1CharTypeTable.html#8d9a80838209b03f1003a4e0e6157011" title="check whether default divide">isDefaultDivide</a>(curChar)  || <a class="code" href="classla__manager_1_1Tokenizer.html#6f4cf5fcbd2505e9258f9e570b7e4ce0" title="char type table">table_</a>.<a class="code" href="classla__manager_1_1CharTypeTable.html#8d9a80838209b03f1003a4e0e6157011" title="check whether default divide">isDefaultDivide</a>(preChar)){
<a name="l00091"></a>00091                                 term.<a class="code" href="classla__manager_1_1Term.html#12f5d18ba13ca84aa99dbbff04eba947" title="end character offset">end</a> = charOffset;
<a name="l00092"></a>00092                                 term.<a class="code" href="classla__manager_1_1Term.html#8625d3cd801afc5b6c587e0c38d9e323" title="word offset of the term in original text">wordOffset</a> = wordOffset ++;
<a name="l00093"></a>00093 
<a name="l00094"></a>00094                                 <a class="code" href="classla__manager_1_1Tokenizer.html#fa10acb0f5ca1e0227d88a159d790bd7">setTermType</a>(term);
<a name="l00095"></a>00095 
<a name="l00096"></a>00096                                 rawTerms.push_back(term);
<a name="l00097"></a>00097                                 term.<a class="code" href="classla__manager_1_1Term.html#b983fdd373e53addabc00c3a48a46df2">clear</a>();
<a name="l00098"></a>00098                                 term.<a class="code" href="classla__manager_1_1Term.html#59772600e59694bd583af17cef1c0b03" title="start character offset">begin</a> = charOffset;
<a name="l00099"></a>00099                         }
<a name="l00100"></a>00100                         term.<a class="code" href="classla__manager_1_1Term.html#49c41450545995b9be0e34e05da6fbd1" title="text data of the term">text</a> += curChar;
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 
<a name="l00103"></a>00103                         <span class="comment">//primary term list</span>
<a name="l00104"></a>00104                         <span class="keywordflow">if</span>(<a class="code" href="classla__manager_1_1Tokenizer.html#6f4cf5fcbd2505e9258f9e570b7e4ce0" title="char type table">table_</a>.<a class="code" href="classla__manager_1_1CharTypeTable.html#ad7404ec8db73433231eec802efea540" title="check whether defined divide">isDefinedDivide</a>(curChar)) {
<a name="l00105"></a>00105                                 <span class="keywordflow">if</span>(inTerm){
<a name="l00106"></a>00106 
<a name="l00107"></a>00107 <span class="comment">//                                      setTermType(rterm);</span>
<a name="l00108"></a>00108 
<a name="l00109"></a>00109                                         primTerms.push_back(rterm);
<a name="l00110"></a>00110                                         inTerm = <span class="keyword">false</span>;
<a name="l00111"></a>00111                                         rterm.<a class="code" href="classla__manager_1_1Term.html#b983fdd373e53addabc00c3a48a46df2">clear</a>();
<a name="l00112"></a>00112                                 }
<a name="l00113"></a>00113                         }
<a name="l00114"></a>00114                         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classla__manager_1_1Tokenizer.html#6f4cf5fcbd2505e9258f9e570b7e4ce0" title="char type table">table_</a>.<a class="code" href="classla__manager_1_1CharTypeTable.html#9fcbc2d5747462459023da70ccf0631d" title="check whether defined allow">isDefinedAllow</a>(curChar)){
<a name="l00115"></a>00115                                 rterm.<a class="code" href="classla__manager_1_1Term.html#49c41450545995b9be0e34e05da6fbd1" title="text data of the term">text</a> += curChar;
<a name="l00116"></a>00116                                 rterm.<a class="code" href="classla__manager_1_1Term.html#12f5d18ba13ca84aa99dbbff04eba947" title="end character offset">end</a> = charOffset + 1;
<a name="l00117"></a>00117                                 <span class="keywordflow">if</span>(!inTerm){
<a name="l00118"></a>00118                                         rterm.<a class="code" href="classla__manager_1_1Term.html#59772600e59694bd583af17cef1c0b03" title="start character offset">begin</a> = charOffset;
<a name="l00119"></a>00119                                         rterm.<a class="code" href="classla__manager_1_1Term.html#8625d3cd801afc5b6c587e0c38d9e323" title="word offset of the term in original text">wordOffset</a> = wordOffset;
<a name="l00120"></a>00120                                         inTerm = <span class="keyword">true</span>;
<a name="l00121"></a>00121                                 }
<a name="l00122"></a>00122                         }
<a name="l00123"></a>00123 
<a name="l00124"></a>00124                         preChar = curChar;
<a name="l00125"></a>00125                 }
<a name="l00126"></a>00126                 term.<a class="code" href="classla__manager_1_1Term.html#12f5d18ba13ca84aa99dbbff04eba947" title="end character offset">end</a> = charOffset;
<a name="l00127"></a>00127                 term.<a class="code" href="classla__manager_1_1Term.html#8625d3cd801afc5b6c587e0c38d9e323" title="word offset of the term in original text">wordOffset</a> = wordOffset;
<a name="l00128"></a>00128 
<a name="l00129"></a>00129 
<a name="l00130"></a>00130                 <a class="code" href="classla__manager_1_1Tokenizer.html#fa10acb0f5ca1e0227d88a159d790bd7">setTermType</a>(term);
<a name="l00131"></a>00131 
<a name="l00132"></a>00132                 rawTerms.push_back(term);
<a name="l00133"></a>00133                 <span class="keywordflow">if</span>(inTerm){
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 <span class="comment">//                      setTermType(rterm);</span>
<a name="l00136"></a>00136 
<a name="l00137"></a>00137                         primTerms.push_back(rterm);
<a name="l00138"></a>00138                 }
<a name="l00139"></a>00139                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00140"></a>00140         }
<a name="l00141"></a><a class="code" href="classla__manager_1_1Tokenizer.html#85c27e7cbe95a00494c5be6e229ed5b6">00141</a>         <span class="keywordtype">bool</span> <a class="code" href="classla__manager_1_1Tokenizer.html#022320db1be5f36438cba009f23f8006" title="tokenize the input text, output two term lists: raw term list and primary term list...">Tokenizer::tokenize</a>(<span class="keyword">const</span> UString&amp; inputString, <a class="code" href="namespacela__manager.html#06c0aab93982ee3ebc3ef9d0419e619a">TermList</a>&amp; primTerms){
<a name="l00142"></a>00142 
<a name="l00143"></a>00143                 primTerms.clear();
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 
<a name="l00146"></a>00146 
<a name="l00147"></a>00147                 <span class="keywordflow">if</span>(<a class="code" href="classla__manager_1_1Tokenizer.html#f1f7c6216c8af54190627b27d2090e48" title="cache">cache_</a>.getValue(inputString, primTerms)){
<a name="l00148"></a>00148                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00149"></a>00149                 }
<a name="l00150"></a>00150 
<a name="l00151"></a>00151 
<a name="l00152"></a>00152 
<a name="l00153"></a>00153 
<a name="l00154"></a>00154                 <span class="keywordtype">int</span> length = inputString.length();
<a name="l00155"></a>00155                 <span class="keywordflow">if</span>(length == 0)
<a name="l00156"></a>00156                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00157"></a>00157                 <a class="code" href="classla__manager_1_1Term.html" title="term information class Term is the output unit of LA manager, This class record the...">Term</a> rterm;
<a name="l00158"></a>00158                 <span class="keywordtype">int</span> wordOffset = 0, charOffset = 0;
<a name="l00159"></a>00159                 <span class="keywordtype">bool</span> inTerm = <span class="keyword">false</span>; <span class="comment">// whether in a term to be add</span>
<a name="l00160"></a>00160                 UCS2Char curChar,preChar;
<a name="l00161"></a>00161 
<a name="l00162"></a>00162                 curChar = inputString.at(0);
<a name="l00163"></a>00163                 preChar = curChar;
<a name="l00164"></a>00164 
<a name="l00165"></a>00165                 <span class="keywordflow">if</span>(<a class="code" href="classla__manager_1_1Tokenizer.html#6f4cf5fcbd2505e9258f9e570b7e4ce0" title="char type table">table_</a>.<a class="code" href="classla__manager_1_1CharTypeTable.html#9fcbc2d5747462459023da70ccf0631d" title="check whether defined allow">isDefinedAllow</a>(curChar)){
<a name="l00166"></a>00166                         rterm.<a class="code" href="classla__manager_1_1Term.html#49c41450545995b9be0e34e05da6fbd1" title="text data of the term">text</a> += curChar;
<a name="l00167"></a>00167                         rterm.<a class="code" href="classla__manager_1_1Term.html#12f5d18ba13ca84aa99dbbff04eba947" title="end character offset">end</a> = charOffset + 1;
<a name="l00168"></a>00168                         <span class="keywordflow">if</span>(!inTerm){
<a name="l00169"></a>00169                                 rterm.<a class="code" href="classla__manager_1_1Term.html#59772600e59694bd583af17cef1c0b03" title="start character offset">begin</a> = charOffset;
<a name="l00170"></a>00170                                 rterm.<a class="code" href="classla__manager_1_1Term.html#8625d3cd801afc5b6c587e0c38d9e323" title="word offset of the term in original text">wordOffset</a> = wordOffset;
<a name="l00171"></a>00171                                 inTerm = <span class="keyword">true</span>;
<a name="l00172"></a>00172                         }
<a name="l00173"></a>00173                 }
<a name="l00174"></a>00174                 <span class="keywordflow">for</span>(charOffset = 1 ; charOffset &lt; length ; charOffset ++){
<a name="l00175"></a>00175                         curChar = inputString.at(charOffset);
<a name="l00176"></a>00176 
<a name="l00177"></a>00177                         <span class="comment">//raw term</span>
<a name="l00178"></a>00178                         <span class="keywordflow">if</span>( <a class="code" href="classla__manager_1_1Tokenizer.html#6f4cf5fcbd2505e9258f9e570b7e4ce0" title="char type table">table_</a>.<a class="code" href="classla__manager_1_1CharTypeTable.html#8d9a80838209b03f1003a4e0e6157011" title="check whether default divide">isDefaultDivide</a>(curChar)  || <a class="code" href="classla__manager_1_1Tokenizer.html#6f4cf5fcbd2505e9258f9e570b7e4ce0" title="char type table">table_</a>.<a class="code" href="classla__manager_1_1CharTypeTable.html#8d9a80838209b03f1003a4e0e6157011" title="check whether default divide">isDefaultDivide</a>(preChar))
<a name="l00179"></a>00179                                 wordOffset ++;
<a name="l00180"></a>00180 
<a name="l00181"></a>00181                         <span class="comment">//primary term list</span>
<a name="l00182"></a>00182                         <span class="keywordflow">if</span>(<a class="code" href="classla__manager_1_1Tokenizer.html#6f4cf5fcbd2505e9258f9e570b7e4ce0" title="char type table">table_</a>.<a class="code" href="classla__manager_1_1CharTypeTable.html#ad7404ec8db73433231eec802efea540" title="check whether defined divide">isDefinedDivide</a>(curChar)) {
<a name="l00183"></a>00183                                 <span class="keywordflow">if</span>(inTerm){
<a name="l00184"></a>00184 
<a name="l00185"></a>00185                                         <a class="code" href="classla__manager_1_1Tokenizer.html#fa10acb0f5ca1e0227d88a159d790bd7">setTermType</a>(rterm);
<a name="l00186"></a>00186 
<a name="l00187"></a>00187                                         primTerms.push_back(rterm);
<a name="l00188"></a>00188                                         inTerm = <span class="keyword">false</span>;
<a name="l00189"></a>00189                                         rterm.<a class="code" href="classla__manager_1_1Term.html#b983fdd373e53addabc00c3a48a46df2">clear</a>();
<a name="l00190"></a>00190                                 }
<a name="l00191"></a>00191                         }
<a name="l00192"></a>00192                         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classla__manager_1_1Tokenizer.html#6f4cf5fcbd2505e9258f9e570b7e4ce0" title="char type table">table_</a>.<a class="code" href="classla__manager_1_1CharTypeTable.html#9fcbc2d5747462459023da70ccf0631d" title="check whether defined allow">isDefinedAllow</a>(curChar)){
<a name="l00193"></a>00193                                 rterm.<a class="code" href="classla__manager_1_1Term.html#49c41450545995b9be0e34e05da6fbd1" title="text data of the term">text</a> += curChar;
<a name="l00194"></a>00194                                 rterm.<a class="code" href="classla__manager_1_1Term.html#12f5d18ba13ca84aa99dbbff04eba947" title="end character offset">end</a> = charOffset + 1;
<a name="l00195"></a>00195                                 <span class="keywordflow">if</span>(!inTerm){
<a name="l00196"></a>00196                                         rterm.<a class="code" href="classla__manager_1_1Term.html#59772600e59694bd583af17cef1c0b03" title="start character offset">begin</a> = charOffset;
<a name="l00197"></a>00197                                         rterm.<a class="code" href="classla__manager_1_1Term.html#8625d3cd801afc5b6c587e0c38d9e323" title="word offset of the term in original text">wordOffset</a> = wordOffset;
<a name="l00198"></a>00198                                         inTerm = <span class="keyword">true</span>;
<a name="l00199"></a>00199                                 }
<a name="l00200"></a>00200                         }
<a name="l00201"></a>00201 
<a name="l00202"></a>00202                         preChar = curChar;
<a name="l00203"></a>00203                 }
<a name="l00204"></a>00204                 <span class="keywordflow">if</span>(inTerm){
<a name="l00205"></a>00205                         <a class="code" href="classla__manager_1_1Tokenizer.html#fa10acb0f5ca1e0227d88a159d790bd7">setTermType</a>(rterm);
<a name="l00206"></a>00206                         primTerms.push_back(rterm);
<a name="l00207"></a>00207                 }
<a name="l00208"></a>00208 
<a name="l00209"></a>00209                 <a class="code" href="classla__manager_1_1Tokenizer.html#f1f7c6216c8af54190627b27d2090e48" title="cache">cache_</a>.insertValue(inputString, primTerms);
<a name="l00210"></a>00210 
<a name="l00211"></a>00211                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00212"></a>00212         }
<a name="l00213"></a>00213 }
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Jul 1 18:14:42 2009 for la-manager by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
