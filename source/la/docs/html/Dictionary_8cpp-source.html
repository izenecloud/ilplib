<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>la-manager: /disk/workspace-cpp/la-manager/source/kma/Dictionary.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>/disk/workspace-cpp/la-manager/source/kma/Dictionary.cpp</h1><a href="Dictionary_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00007"></a>00007 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;<a class="code" href="Dictionary_8h.html" title="various methods( functions ) for the Dictionary class are defined in this file.">Dictionary.h</a>&gt;</span>
<a name="l00010"></a>00010 <span class="keyword">using namespace </span>std;
<a name="l00011"></a>00011 <span class="keyword">using namespace </span>kmaOrange;
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="Dictionary_8cpp.html#ddd75260072c7af33c1eb01b3cf18835">compareJosaEomi</a>( <span class="keyword">const</span> <span class="keywordtype">void</span>* leftElement, <span class="keyword">const</span> <span class="keywordtype">void</span>* rightElement );
<a name="l00014"></a>00014 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="Dictionary_8cpp.html#1b9b22caf09795d5e4abf04b6ea07e7f">compareCommon</a>  ( <span class="keyword">const</span> <span class="keywordtype">void</span>* leftElement, <span class="keyword">const</span> <span class="keywordtype">void</span>* rightElement );
<a name="l00015"></a>00015 
<a name="l00017"></a>00017 <span class="comment">/*</span>
<a name="l00018"></a>00018 <span class="comment">int compareJosaEomi( const void* leftElement, const void* rightElement )</span>
<a name="l00019"></a>00019 <span class="comment">{</span>
<a name="l00020"></a>00020 <span class="comment">        if(      ((JosaEomiEntryInfo*)leftElement)-&gt;entry &lt; ((JosaEomiEntryInfo*)rightElement)-&gt;entry ) return -1;</span>
<a name="l00021"></a>00021 <span class="comment">        else if( ((JosaEomiEntryInfo*)leftElement)-&gt;entry &gt; ((JosaEomiEntryInfo*)rightElement)-&gt;entry ) return 1;</span>
<a name="l00022"></a>00022 <span class="comment">        else return 0;</span>
<a name="l00023"></a>00023 <span class="comment">}</span>
<a name="l00024"></a>00024 <span class="comment"></span>
<a name="l00025"></a>00025 <span class="comment">int compareCommon( const void* leftElement, const void* rightElement )</span>
<a name="l00026"></a>00026 <span class="comment">{</span>
<a name="l00027"></a>00027 <span class="comment">        if(      *((StringEx*)leftElement) &lt; *((StringEx*)rightElement) ) return -1;</span>
<a name="l00028"></a>00028 <span class="comment">        else if( *((StringEx*)leftElement) &gt; *((StringEx*)rightElement) ) return 1;</span>
<a name="l00029"></a>00029 <span class="comment">        else return 0;</span>
<a name="l00030"></a>00030 <span class="comment">}</span>
<a name="l00031"></a>00031 <span class="comment">*/</span>
<a name="l00033"></a>00033 
<a name="l00034"></a><a class="code" href="Dictionary_8cpp.html#737092e964ccafca55b2687f8d650fa9">00034</a> <span class="preprocessor">#define TRIE_EXTEND_SIZE        (1024 * 100)</span>
<a name="l00035"></a><a class="code" href="Dictionary_8cpp.html#05619a393b4c49d479f10327561713ca">00035</a> <span class="preprocessor"></span><span class="preprocessor">#define PREFIX_SYMBOL           0x0E</span>
<a name="l00036"></a><a class="code" href="Dictionary_8cpp.html#6297f1bd3cf9f42d7e2147a2e6552c89">00036</a> <span class="preprocessor"></span><span class="preprocessor">#define SUFFIX_SYMBOL           0x0D</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span>
<a name="l00038"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#8a745b21ae847b6763db962023ee7656">00038</a> Dictionary::Dictionary( <span class="keywordtype">bool</span> willLoadByDefaultPath ) : _sizeDivInfo(0), _sizePosInfo(0)
<a name="l00039"></a>00039 {
<a name="l00040"></a>00040         <span class="keywordflow">if</span>( willLoadByDefaultPath == <span class="keyword">false</span> )    <span class="keywordflow">return</span>;
<a name="l00041"></a>00041 
<a name="l00042"></a>00042         <a class="code" href="classkmaOrange_1_1Dictionary.html#22a1dd6af0f8698ff758de165ba5b613" title="This function creates and initializes a WK_DaTrie object.  This function calls other...">loadKnowledge</a>( <span class="stringliteral">"./knowledge"</span> );
<a name="l00043"></a>00043 }
<a name="l00044"></a>00044 
<a name="l00045"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#11930f473ace7cb8a0f38997a2b09dcb">00045</a> <a class="code" href="classkmaOrange_1_1Dictionary.html#11930f473ace7cb8a0f38997a2b09dcb" title="This function is a destructor of Dictionary object.">Dictionary::~Dictionary</a>()
<a name="l00046"></a>00046 {
<a name="l00047"></a>00047         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#eebf34672a311605acc6354875282b0b" title="the list of DivideInfo object.">_divideInfos</a> != 0 )   <span class="keyword">delete</span> [] <a class="code" href="classkmaOrange_1_1Dictionary.html#eebf34672a311605acc6354875282b0b" title="the list of DivideInfo object.">_divideInfos</a>;
<a name="l00048"></a>00048         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a> != 0 ) <span class="keyword">delete</span> [] <a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a>;
<a name="l00049"></a>00049 }
<a name="l00050"></a>00050 
<a name="l00051"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#22a1dd6af0f8698ff758de165ba5b613">00051</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#22a1dd6af0f8698ff758de165ba5b613" title="This function creates and initializes a WK_DaTrie object.  This function calls other...">Dictionary::loadKnowledge</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *pPath, <span class="keywordtype">bool</span> hasKnowledge )
<a name="l00052"></a>00052 {
<a name="l00053"></a>00053 <span class="comment">//      cout &lt;&lt; "Knowledge loading started." &lt;&lt; endl;</span>
<a name="l00054"></a>00054 
<a name="l00055"></a>00055         <a class="code" href="classStringEx.html">StringEx</a> strPath = pPath;
<a name="l00056"></a>00056 
<a name="l00057"></a>00057         <span class="keywordflow">if</span>( hasKnowledge )
<a name="l00058"></a>00058         {
<a name="l00059"></a>00059                 <a class="code" href="classStringEx.html">StringEx</a> strKnowledgePath = pPath;
<a name="l00060"></a>00060                 strKnowledgePath += <span class="stringliteral">"/wko.klg"</span>;
<a name="l00061"></a>00061 
<a name="l00062"></a>00062                 <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#55b07fdaf668789b26249850126391d7" title="This function loads contents of the binary system dictionary file.">loadKnowledgeFromFile</a>( strKnowledgePath.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>() ) &gt; 0 ) 
<a name="l00063"></a>00063                 {
<a name="l00064"></a>00064 <span class="comment">//                      cout &lt;&lt; "Knowledge loading completed." &lt;&lt; endl;</span>
<a name="l00065"></a>00065                         <span class="keywordflow">return</span> 1;
<a name="l00066"></a>00066                 }
<a name="l00067"></a>00067 
<a name="l00068"></a>00068                 cerr &lt;&lt; <span class="stringliteral">"Loading from knowledge file failed.\nRetry to load data from source dictionaries."</span> &lt;&lt; endl;
<a name="l00069"></a>00069 
<a name="l00070"></a>00070                 strPath = <span class="stringliteral">"./dic"</span>;
<a name="l00071"></a>00071         }
<a name="l00072"></a>00072 
<a name="l00073"></a>00073         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#580a2bff4df42be6211a7695c77c3a41" title="a WK_DaTrie object of grammatical morphemes.">_josaEomiTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#f8b50a62c397ba902f8c07d559a9435b">create</a>( <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a> ) &lt; 0 )
<a name="l00074"></a>00074         {
<a name="l00075"></a>00075                 cerr &lt;&lt; <span class="stringliteral">"Can't create trie. So dictonaries are not created..."</span> &lt;&lt; endl;
<a name="l00076"></a>00076 
<a name="l00077"></a>00077                 <span class="keywordflow">return</span> 0;
<a name="l00078"></a>00078         }
<a name="l00079"></a>00079         <span class="keywordflow">else</span>
<a name="l00080"></a>00080         {
<a name="l00081"></a>00081                 <span class="comment">//trie¿¡ info°¡ ¾øÀ» °æ¿ì 0À» ¹ÝÈ¯ÇÏ¹Ç·Î, info ÀÎµ¦½º 0°ú Ãæµ¹ÀÌ ³¯ ¼ö ÀÖÀ¸¹Ç·Î 0¹ø ÀÎµ¦½º¸¦ ÀÇ¹Ì¾ø´Â °ªÀ¸·Î ÃÊ±âÈ­.</span>
<a name="l00082"></a>00082                 <a class="code" href="classJosaEomiTrieInfo.html" title="a class has information for making grammatical morphemes( postpositions or endings...">JosaEomiTrieInfo</a> jeti;
<a name="l00083"></a>00083                 <a class="code" href="classkmaOrange_1_1Dictionary.html#b9784b60c4c70b298bca88ab0857075b" title="the information list of grammatical morphemes.">_josaEomiInfoPoolList</a>.<a class="code" href="classListEx.html#14006a0f7481d9849d1c77950e8a0b2a">addTuple</a>( jeti );
<a name="l00084"></a>00084 
<a name="l00085"></a>00085                 <a class="code" href="classkmaOrange_1_1Dictionary.html#1a8b6abce191eca63d1d9bfeaf0ee792" title="This function is a interface function for loading the ending dictionary file.">readEomiDictionary</a>( <span class="stringliteral">"E_"</span>, strPath+<span class="stringliteral">"/em.dic"</span> );
<a name="l00086"></a>00086                 <a class="code" href="classkmaOrange_1_1Dictionary.html#8caa9366495de16bce7c7d9923a3a0ff" title="This function is a interface function for loading the postposition dictionary file...">readJosaDictionary</a>( <span class="stringliteral">"J_"</span>, strPath+<span class="stringliteral">"/js.dic"</span> );
<a name="l00087"></a>00087         }
<a name="l00088"></a>00088 
<a name="l00089"></a>00089         <a class="code" href="classkmaOrange_1_1Dictionary.html#899b2e257d771091749463afe6dbeab5" title="This function sets onset endings( &amp;#39;ï¿½ï¿½&amp;#39;, &amp;#39;ï¿½ï¿½&amp;#39;, &amp;#39;ï¿½ï¿½&amp;#39;...">setOnsetEomi</a>();
<a name="l00090"></a>00090 
<a name="l00091"></a>00091         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#52eb564f4339216c94d197ca3cadb7e7" title="a WK_DaTrie object of lexical morphemes.">_mainTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#f8b50a62c397ba902f8c07d559a9435b">create</a>( <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a> ) &lt; 0 )
<a name="l00092"></a>00092         {
<a name="l00093"></a>00093                 cerr &lt;&lt; <span class="stringliteral">"Can't create trie. So dictonaries are not created..."</span> &lt;&lt; endl;
<a name="l00094"></a>00094 
<a name="l00095"></a>00095                 <span class="keywordflow">return</span> 0;
<a name="l00096"></a>00096         }
<a name="l00097"></a>00097         <span class="keywordflow">else</span>
<a name="l00098"></a>00098         {
<a name="l00099"></a>00099                 <span class="comment">//trie¿¡ info°¡ ¾øÀ» °æ¿ì 0À» ¹ÝÈ¯ÇÏ¹Ç·Î, info ÀÎµ¦½º 0°ú Ãæµ¹ÀÌ ³¯ ¼ö ÀÖÀ¸¹Ç·Î 0¹ø ÀÎµ¦½º¸¦ ÀÇ¹Ì¾ø´Â °ªÀ¸·Î ÃÊ±âÈ­.</span>
<a name="l00100"></a>00100                 <a class="code" href="classMainTrieInfo.html" title="a class has additional information of the main trie( including NNG, NNB, NNP, NP...">MainTrieInfo</a> mti;
<a name="l00101"></a>00101                 <a class="code" href="classkmaOrange_1_1Dictionary.html#8b4809c5e4427e0a886ebb98ccb1458e" title="the information list of lexical morphemes.">_mainInfoPoolList</a>.<a class="code" href="classListEx.html#14006a0f7481d9849d1c77950e8a0b2a">addTuple</a>( mti );
<a name="l00102"></a>00102 
<a name="l00103"></a>00103                 <a class="code" href="classkmaOrange_1_1Dictionary.html#a94306b03154efe9b28bbbd84284ecd5" title="This function is a interface function for loading the NNB dictionary file.">readNNBDictionary</a>( <span class="stringliteral">"NNB"</span>, strPath+<span class="stringliteral">"/nnb.dic"</span> );
<a name="l00104"></a>00104                 <a class="code" href="classkmaOrange_1_1Dictionary.html#885af9add2e57735325161b0cbe50fd0" title="This function is a interface function for loading the NNG dictionary file.">readNNGDictionary</a>( <span class="stringliteral">"NNG"</span>, strPath+<span class="stringliteral">"/nng.dic"</span> );
<a name="l00105"></a>00105                 <a class="code" href="classkmaOrange_1_1Dictionary.html#997496836f194362ab9d1f2d942b952a" title="This function is a interface function for loading the NP dictionary file.">readNPDictionary</a> ( <span class="stringliteral">"NP"</span>, strPath+<span class="stringliteral">"/np.dic"</span> );
<a name="l00106"></a>00106                 <a class="code" href="classkmaOrange_1_1Dictionary.html#2bd3731eff30bd2fb68752357c5db962" title="This function is a interface function for loading the NNI dictionary file.">readNNIDictionary</a>( <span class="stringliteral">"NNI"</span>, strPath+<span class="stringliteral">"/nni.dic"</span> );
<a name="l00107"></a>00107                 <a class="code" href="classkmaOrange_1_1Dictionary.html#f233eb7cf842535ade20e4bb4b58ce1a" title="This function is a interface function for loading the NNP dictionary file.">readNNPDictionary</a>( <span class="stringliteral">"NNP"</span>, strPath+<span class="stringliteral">"/nnp.dic"</span> );
<a name="l00108"></a>00108                 <a class="code" href="classkmaOrange_1_1Dictionary.html#5cebf5ef04e987a073ba5022d2ea71f4" title="This function is a interface function for loading the VV dictionary file.">readVVDictionary</a> ( <span class="stringliteral">"VV"</span>, strPath+<span class="stringliteral">"/vv.dic"</span> );
<a name="l00109"></a>00109                 <a class="code" href="classkmaOrange_1_1Dictionary.html#61ab96ce9ca3047c4f05cf7de7bad1b6" title="This function is a interface function for loading the VV dictionary file.">readVADictionary</a> ( <span class="stringliteral">"VA"</span>, strPath+<span class="stringliteral">"/va.dic"</span> );
<a name="l00110"></a>00110                 <a class="code" href="classkmaOrange_1_1Dictionary.html#0741c5adbb28282b056723bfe896dacb" title="This function is a interface function for loading the MA dictionary file.">readMADictionary</a> ( <span class="stringliteral">"MA"</span>, strPath+<span class="stringliteral">"/ma.dic"</span> );
<a name="l00111"></a>00111                 <a class="code" href="classkmaOrange_1_1Dictionary.html#b3dff1eefce8116f926a5ccbf2b05dbd" title="This function is a interface function for loading the MM dictionary file.">readMMDictionary</a> ( <span class="stringliteral">"MM"</span>, strPath+<span class="stringliteral">"/mm.dic"</span> );
<a name="l00112"></a>00112                 <a class="code" href="classkmaOrange_1_1Dictionary.html#46494e1b96c54b9151c6b3facd270e48" title="This function is a interface function for loading the IC dictionary file.">readICDictionary</a> ( <span class="stringliteral">"IC"</span>, strPath+<span class="stringliteral">"/ic.dic"</span> );
<a name="l00113"></a>00113                 <a class="code" href="classkmaOrange_1_1Dictionary.html#cae20d922b303760cf7f5328f1a8ac19" title="This function is a interface function for loading the VX dictionary file.">readVXDictionary</a> ( <span class="stringliteral">"VX"</span>, strPath+<span class="stringliteral">"/vx.dic"</span> );
<a name="l00114"></a>00114         }
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 <span class="comment">//      showEomiDictionary( cout );</span>
<a name="l00117"></a>00117 <span class="comment">//      showJosaDictionary( cout );</span>
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 <span class="comment">//      showCommonDictionary( _vvList, cout );</span>
<a name="l00120"></a>00120 
<a name="l00121"></a>00121         <a class="code" href="classkmaOrange_1_1Dictionary.html#eebf34672a311605acc6354875282b0b" title="the list of DivideInfo object.">_divideInfos</a>   = 0;
<a name="l00122"></a>00122         <a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a> = 0;
<a name="l00123"></a>00123 
<a name="l00124"></a>00124         <a class="code" href="classkmaOrange_1_1Dictionary.html#d7bb7409e2b9a69319fb64a96d96543b" title="This function loads the division information for decomposing a compound noun.">readDivideInfo</a> ( <span class="stringliteral">"DI"</span>, strPath+<span class="stringliteral">"/divInfo_freq_sorted.txt"</span> );
<a name="l00125"></a>00125         <a class="code" href="classkmaOrange_1_1Dictionary.html#676d4f45dcfe21f931a65e94b8f3467e" title="This function loads the position information for decomposing a compound noun.">readPostionInfo</a>( <span class="stringliteral">"PI"</span>, strPath+<span class="stringliteral">"/posInfo_freq_sorted.txt"</span> );
<a name="l00126"></a>00126 
<a name="l00127"></a>00127 <span class="comment">//      cout &lt;&lt; "Knowledge loading completed." &lt;&lt; endl;</span>
<a name="l00128"></a>00128 
<a name="l00129"></a>00129         <span class="keywordflow">return</span> 1;
<a name="l00130"></a>00130 }
<a name="l00131"></a>00131 
<a name="l00132"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#8caa9366495de16bce7c7d9923a3a0ff">00132</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#8caa9366495de16bce7c7d9923a3a0ff" title="This function is a interface function for loading the postposition dictionary file...">Dictionary::readJosaDictionary</a>( <a class="code" href="classStringEx.html">StringEx</a> strID, <a class="code" href="classStringEx.html">StringEx</a> strFileName )
<a name="l00133"></a>00133 {
<a name="l00134"></a>00134         <span class="keywordflow">return</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#4c967c6ea71838873cae66726744a3c6" title="This function loads the grammatical morphemes dictionary file.">readJosaEomiDictionary</a>( strID, strFileName );
<a name="l00135"></a>00135 }
<a name="l00136"></a>00136 
<a name="l00137"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#1a8b6abce191eca63d1d9bfeaf0ee792">00137</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#1a8b6abce191eca63d1d9bfeaf0ee792" title="This function is a interface function for loading the ending dictionary file.">Dictionary::readEomiDictionary</a>( <a class="code" href="classStringEx.html">StringEx</a> strID, <a class="code" href="classStringEx.html">StringEx</a> strFileName )
<a name="l00138"></a>00138 {
<a name="l00139"></a>00139         <span class="keywordflow">return</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#4c967c6ea71838873cae66726744a3c6" title="This function loads the grammatical morphemes dictionary file.">readJosaEomiDictionary</a>( strID, strFileName );
<a name="l00140"></a>00140 }
<a name="l00141"></a>00141 
<a name="l00142"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#899b2e257d771091749463afe6dbeab5">00142</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#899b2e257d771091749463afe6dbeab5" title="This function sets onset endings( &amp;#39;ï¿½ï¿½&amp;#39;, &amp;#39;ï¿½ï¿½&amp;#39;, &amp;#39;ï¿½ï¿½&amp;#39;...">Dictionary::setOnsetEomi</a>()
<a name="l00143"></a>00143 {
<a name="l00144"></a>00144         <a class="code" href="classJosaEomiTrieInfo.html" title="a class has information for making grammatical morphemes( postpositions or endings...">JosaEomiTrieInfo</a> jeti;
<a name="l00145"></a>00145 
<a name="l00146"></a>00146         <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#aaaffab5a6c0ecad023a286ab81124c1" title="This function inserts the information of a postposition or ending in a word.">appendInfo</a>( <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#506499720e4e8cfdd18ac973d9ea9e71" title="This function gets the current position of the buffer.">getBufferPos</a>(), <a class="code" href="wk__pos_8h.html#0c9f8ac491a1f0ee3073dc97265137d6">ETM</a>
<a name="l00147"></a>00147                 , (<span class="keywordtype">short</span> int)0x03, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)0x05 );
<a name="l00148"></a>00148 
<a name="l00149"></a>00149         <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#1d59bc9cc086950f9cbebba033c12c7e" title="This function inserts the string of a word.">appendBuffer</a>( <span class="stringliteral">"¤¤"</span>, 2 );
<a name="l00150"></a>00150         jeti.<a class="code" href="classJosaEomiTrieInfo.html#4914dd1866b5fc75ebe8a0cc152edfc3" title="the index of a ending information, which has a &amp;#39;ï¿½ï¿½&amp;#39; coda as the first...">poshlN</a> = <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#9b038ab505a0d970bc8a8dddef62f02c" title="This function gets the current position of the buffer.">getPos</a>() - 1;
<a name="l00151"></a>00151 
<a name="l00152"></a>00152         <a class="code" href="classkmaOrange_1_1Dictionary.html#0fe6a0d5defdbc12929e04f699e453e3" title="the information list of onset endings.">_onsetEomiInfoPoolList</a>.<a class="code" href="classListEx.html#14006a0f7481d9849d1c77950e8a0b2a">addTuple</a>( jeti );
<a name="l00153"></a>00153         jeti.<a class="code" href="classJosaEomiTrieInfo.html#4914dd1866b5fc75ebe8a0cc152edfc3" title="the index of a ending information, which has a &amp;#39;ï¿½ï¿½&amp;#39; coda as the first...">poshlN</a> = - 1;
<a name="l00154"></a>00154 
<a name="l00155"></a>00155         <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#aaaffab5a6c0ecad023a286ab81124c1" title="This function inserts the information of a postposition or ending in a word.">appendInfo</a>( <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#506499720e4e8cfdd18ac973d9ea9e71" title="This function gets the current position of the buffer.">getBufferPos</a>(), <a class="code" href="wk__pos_8h.html#0c9f8ac491a1f0ee3073dc97265137d6">ETM</a>
<a name="l00156"></a>00156                 , (<span class="keywordtype">short</span> int)0x03, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)0x09 );
<a name="l00157"></a>00157 
<a name="l00158"></a>00158         <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#1d59bc9cc086950f9cbebba033c12c7e" title="This function inserts the string of a word.">appendBuffer</a>( <span class="stringliteral">"¤©"</span>, 2 );
<a name="l00159"></a>00159         jeti.<a class="code" href="classJosaEomiTrieInfo.html#fd2d03bf4a3296e04d6d481b0ddf2f73" title="the index of a ending information, which has a &amp;#39;ï¿½ï¿½&amp;#39; coda as the first...">poshlL</a> = <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#9b038ab505a0d970bc8a8dddef62f02c" title="This function gets the current position of the buffer.">getPos</a>() - 1;
<a name="l00160"></a>00160 
<a name="l00161"></a>00161         <a class="code" href="classkmaOrange_1_1Dictionary.html#0fe6a0d5defdbc12929e04f699e453e3" title="the information list of onset endings.">_onsetEomiInfoPoolList</a>.<a class="code" href="classListEx.html#14006a0f7481d9849d1c77950e8a0b2a">addTuple</a>( jeti );
<a name="l00162"></a>00162         jeti.<a class="code" href="classJosaEomiTrieInfo.html#fd2d03bf4a3296e04d6d481b0ddf2f73" title="the index of a ending information, which has a &amp;#39;ï¿½ï¿½&amp;#39; coda as the first...">poshlL</a> = - 1;
<a name="l00163"></a>00163 
<a name="l00164"></a>00164         <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#aaaffab5a6c0ecad023a286ab81124c1" title="This function inserts the information of a postposition or ending in a word.">appendInfo</a>( <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#506499720e4e8cfdd18ac973d9ea9e71" title="This function gets the current position of the buffer.">getBufferPos</a>(), <a class="code" href="wk__pos_8h.html#7ba9af961f41fc10eb6f95d9ef04aa19">ETN</a>
<a name="l00165"></a>00165                 , (<span class="keywordtype">short</span> int)0x03, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)0x11 );
<a name="l00166"></a>00166 
<a name="l00167"></a>00167         <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#1d59bc9cc086950f9cbebba033c12c7e" title="This function inserts the string of a word.">appendBuffer</a>( <span class="stringliteral">"¤±"</span>, 2 );
<a name="l00168"></a>00168         jeti.<a class="code" href="classJosaEomiTrieInfo.html#b4804002b12abfb9705b0f249ad98637" title="the index of a ending information, which has a &amp;#39;ï¿½ï¿½&amp;#39; coda as the first...">poshlM</a> = <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#9b038ab505a0d970bc8a8dddef62f02c" title="This function gets the current position of the buffer.">getPos</a>() - 1;
<a name="l00169"></a>00169 
<a name="l00170"></a>00170         <a class="code" href="classkmaOrange_1_1Dictionary.html#0fe6a0d5defdbc12929e04f699e453e3" title="the information list of onset endings.">_onsetEomiInfoPoolList</a>.<a class="code" href="classListEx.html#14006a0f7481d9849d1c77950e8a0b2a">addTuple</a>( jeti );
<a name="l00171"></a>00171 
<a name="l00172"></a>00172         <span class="keywordflow">return</span> 1;
<a name="l00173"></a>00173 }
<a name="l00174"></a>00174 
<a name="l00175"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#a94306b03154efe9b28bbbd84284ecd5">00175</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#a94306b03154efe9b28bbbd84284ecd5" title="This function is a interface function for loading the NNB dictionary file.">Dictionary::readNNBDictionary</a>( <a class="code" href="classStringEx.html">StringEx</a> strID, <a class="code" href="classStringEx.html">StringEx</a> strFileName )
<a name="l00176"></a>00176 {
<a name="l00177"></a>00177         <span class="keywordflow">return</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#e29df4e3436b7fa1f06c9afea1f3c633" title="This function loads the lexical morphemes dictionary file.">readCommonDictionary</a>( strFileName, strID );
<a name="l00178"></a>00178 }
<a name="l00179"></a>00179 
<a name="l00180"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#885af9add2e57735325161b0cbe50fd0">00180</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#885af9add2e57735325161b0cbe50fd0" title="This function is a interface function for loading the NNG dictionary file.">Dictionary::readNNGDictionary</a>( <a class="code" href="classStringEx.html">StringEx</a> strID, <a class="code" href="classStringEx.html">StringEx</a> strFileName )
<a name="l00181"></a>00181 {
<a name="l00182"></a>00182         <span class="keywordflow">return</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#e29df4e3436b7fa1f06c9afea1f3c633" title="This function loads the lexical morphemes dictionary file.">readCommonDictionary</a>( strFileName, strID );
<a name="l00183"></a>00183 }
<a name="l00184"></a>00184 
<a name="l00185"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#997496836f194362ab9d1f2d942b952a">00185</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#997496836f194362ab9d1f2d942b952a" title="This function is a interface function for loading the NP dictionary file.">Dictionary::readNPDictionary</a> ( <a class="code" href="classStringEx.html">StringEx</a> strID, <a class="code" href="classStringEx.html">StringEx</a> strFileName )
<a name="l00186"></a>00186 {
<a name="l00187"></a>00187         <span class="keywordflow">return</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#e29df4e3436b7fa1f06c9afea1f3c633" title="This function loads the lexical morphemes dictionary file.">readCommonDictionary</a>( strFileName, strID );
<a name="l00188"></a>00188 }
<a name="l00189"></a>00189 
<a name="l00190"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#2bd3731eff30bd2fb68752357c5db962">00190</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#2bd3731eff30bd2fb68752357c5db962" title="This function is a interface function for loading the NNI dictionary file.">Dictionary::readNNIDictionary</a> ( <a class="code" href="classStringEx.html">StringEx</a> strID, <a class="code" href="classStringEx.html">StringEx</a> strFileName )
<a name="l00191"></a>00191 {
<a name="l00192"></a>00192         <span class="keywordflow">return</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#e29df4e3436b7fa1f06c9afea1f3c633" title="This function loads the lexical morphemes dictionary file.">readCommonDictionary</a>( strFileName, strID );
<a name="l00193"></a>00193 }
<a name="l00194"></a>00194 
<a name="l00195"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#f233eb7cf842535ade20e4bb4b58ce1a">00195</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#f233eb7cf842535ade20e4bb4b58ce1a" title="This function is a interface function for loading the NNP dictionary file.">Dictionary::readNNPDictionary</a> ( <a class="code" href="classStringEx.html">StringEx</a> strID, <a class="code" href="classStringEx.html">StringEx</a> strFileName )
<a name="l00196"></a>00196 {
<a name="l00197"></a>00197         <span class="keywordflow">return</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#e29df4e3436b7fa1f06c9afea1f3c633" title="This function loads the lexical morphemes dictionary file.">readCommonDictionary</a>( strFileName, strID );
<a name="l00198"></a>00198 }
<a name="l00199"></a>00199 
<a name="l00200"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#5cebf5ef04e987a073ba5022d2ea71f4">00200</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#5cebf5ef04e987a073ba5022d2ea71f4" title="This function is a interface function for loading the VV dictionary file.">Dictionary::readVVDictionary</a> ( <a class="code" href="classStringEx.html">StringEx</a> strID, <a class="code" href="classStringEx.html">StringEx</a> strFileName )
<a name="l00201"></a>00201 {
<a name="l00202"></a>00202         <span class="keywordflow">return</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#e29df4e3436b7fa1f06c9afea1f3c633" title="This function loads the lexical morphemes dictionary file.">readCommonDictionary</a>( strFileName, strID );
<a name="l00203"></a>00203 }
<a name="l00204"></a>00204 
<a name="l00205"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#61ab96ce9ca3047c4f05cf7de7bad1b6">00205</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#61ab96ce9ca3047c4f05cf7de7bad1b6" title="This function is a interface function for loading the VV dictionary file.">Dictionary::readVADictionary</a> ( <a class="code" href="classStringEx.html">StringEx</a> strID, <a class="code" href="classStringEx.html">StringEx</a> strFileName )
<a name="l00206"></a>00206 {
<a name="l00207"></a>00207         <span class="keywordflow">return</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#e29df4e3436b7fa1f06c9afea1f3c633" title="This function loads the lexical morphemes dictionary file.">readCommonDictionary</a>( strFileName, strID );
<a name="l00208"></a>00208 }
<a name="l00209"></a>00209 
<a name="l00210"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#0741c5adbb28282b056723bfe896dacb">00210</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#0741c5adbb28282b056723bfe896dacb" title="This function is a interface function for loading the MA dictionary file.">Dictionary::readMADictionary</a> ( <a class="code" href="classStringEx.html">StringEx</a> strID, <a class="code" href="classStringEx.html">StringEx</a> strFileName )
<a name="l00211"></a>00211 {
<a name="l00212"></a>00212         <span class="keywordflow">return</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#e29df4e3436b7fa1f06c9afea1f3c633" title="This function loads the lexical morphemes dictionary file.">readCommonDictionary</a>( strFileName, strID );
<a name="l00213"></a>00213 }
<a name="l00214"></a>00214 
<a name="l00215"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#b3dff1eefce8116f926a5ccbf2b05dbd">00215</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#b3dff1eefce8116f926a5ccbf2b05dbd" title="This function is a interface function for loading the MM dictionary file.">Dictionary::readMMDictionary</a> ( <a class="code" href="classStringEx.html">StringEx</a> strID, <a class="code" href="classStringEx.html">StringEx</a> strFileName )
<a name="l00216"></a>00216 {
<a name="l00217"></a>00217         <span class="keywordflow">return</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#e29df4e3436b7fa1f06c9afea1f3c633" title="This function loads the lexical morphemes dictionary file.">readCommonDictionary</a>( strFileName, strID );
<a name="l00218"></a>00218 }
<a name="l00219"></a>00219 
<a name="l00220"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#46494e1b96c54b9151c6b3facd270e48">00220</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#46494e1b96c54b9151c6b3facd270e48" title="This function is a interface function for loading the IC dictionary file.">Dictionary::readICDictionary</a> ( <a class="code" href="classStringEx.html">StringEx</a> strID, <a class="code" href="classStringEx.html">StringEx</a> strFileName )
<a name="l00221"></a>00221 {
<a name="l00222"></a>00222         <span class="keywordflow">return</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#e29df4e3436b7fa1f06c9afea1f3c633" title="This function loads the lexical morphemes dictionary file.">readCommonDictionary</a>( strFileName, strID );
<a name="l00223"></a>00223 }
<a name="l00224"></a>00224 
<a name="l00225"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#cae20d922b303760cf7f5328f1a8ac19">00225</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#cae20d922b303760cf7f5328f1a8ac19" title="This function is a interface function for loading the VX dictionary file.">Dictionary::readVXDictionary</a> ( <a class="code" href="classStringEx.html">StringEx</a> strID, <a class="code" href="classStringEx.html">StringEx</a> strFileName )
<a name="l00226"></a>00226 {
<a name="l00227"></a>00227         <span class="keywordflow">return</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#e29df4e3436b7fa1f06c9afea1f3c633" title="This function loads the lexical morphemes dictionary file.">readCommonDictionary</a>( strFileName, strID );
<a name="l00228"></a>00228 }
<a name="l00229"></a>00229 
<a name="l00230"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#4c967c6ea71838873cae66726744a3c6">00230</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#4c967c6ea71838873cae66726744a3c6" title="This function loads the grammatical morphemes dictionary file.">Dictionary::readJosaEomiDictionary</a>( <a class="code" href="classStringEx.html">StringEx</a>&amp; strID, <a class="code" href="classStringEx.html">StringEx</a>&amp; strFileName )
<a name="l00231"></a>00231 {
<a name="l00232"></a>00232 <span class="comment">//      cout &lt;&lt; strID;</span>
<a name="l00233"></a>00233 
<a name="l00234"></a>00234         <span class="keywordtype">bool</span> isJosa = (<a class="code" href="classkmaOrange_1_1TagSet.html#0d5649071e5a2b636b75b67ed19a0c11">TagSet::convertTagStringToCode</a>( strID.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>()) &amp; <a class="code" href="wk__pos_8h.html#72c636e4b6e593bafdfa5684871f0adf">J_</a> ) ? <span class="keyword">true</span> : <span class="keyword">false</span>;
<a name="l00235"></a>00235 
<a name="l00236"></a>00236         ifstream fin( strFileName.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>() );
<a name="l00237"></a>00237 
<a name="l00238"></a>00238         <span class="keywordflow">if</span>( fin.fail() )
<a name="l00239"></a>00239     {
<a name="l00240"></a>00240 <span class="comment">//      cerr &lt;&lt; "Can't open " &lt;&lt; strFileName &lt;&lt; " file." &lt;&lt; endl;</span>
<a name="l00241"></a>00241         <span class="keywordflow">return</span> -1;
<a name="l00242"></a>00242     }
<a name="l00243"></a>00243 
<a name="l00244"></a>00244         <a class="code" href="classText.html">Text</a> strBuffer ( <a class="code" href="Dictionary_8h.html#7098e2771ce52be8535854a107e89643">SIZE4096</a> );
<a name="l00245"></a>00245         <a class="code" href="classText.html">Text</a> strText   ( <a class="code" href="Dictionary_8h.html#7098e2771ce52be8535854a107e89643">SIZE4096</a> );
<a name="l00246"></a>00246         <a class="code" href="classText.html">Text</a> strSubText( <a class="code" href="Dictionary_8h.html#7098e2771ce52be8535854a107e89643">SIZE4096</a> );
<a name="l00247"></a>00247         <a class="code" href="classStringEx.html">StringEx</a> strex ( <a class="code" href="Dictionary_8h.html#7098e2771ce52be8535854a107e89643">SIZE4096</a> );
<a name="l00248"></a>00248 
<a name="l00249"></a>00249 <span class="comment">//      int cntDot = 0;</span>
<a name="l00250"></a>00250         <a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html">WK_DaTrie_Node</a> trieNode;
<a name="l00251"></a>00251 
<a name="l00252"></a>00252         <span class="keywordflow">while</span>( !fin.eof() )
<a name="l00253"></a>00253         {
<a name="l00254"></a>00254                 getline( fin, strBuffer );
<a name="l00255"></a>00255 
<a name="l00256"></a>00256                 <span class="keywordflow">if</span>( strBuffer.<a class="code" href="classStringEx.html#2f853993f378542f2ff7c15ad9c33c83">startWith</a>(<span class="stringliteral">";"</span>) || strBuffer.<a class="code" href="classStringEx.html#2f853993f378542f2ff7c15ad9c33c83">startWith</a>(<span class="stringliteral">"/"</span>) || strBuffer.<a class="code" href="classStringEx.html#2f853993f378542f2ff7c15ad9c33c83">startWith</a>(<span class="stringliteral">" "</span>) ) <span class="keywordflow">continue</span>;
<a name="l00257"></a>00257 
<a name="l00258"></a>00258                 <a class="code" href="classJosaEomiTrieInfo.html" title="a class has information for making grammatical morphemes( postpositions or endings...">JosaEomiTrieInfo</a> jeti;
<a name="l00259"></a>00259 
<a name="l00260"></a>00260                 <span class="keywordtype">int</span> pos;
<a name="l00261"></a>00261                 <span class="keywordflow">if</span>( (pos = strBuffer.<a class="code" href="classStringEx.html#a948cbadc89b04c5a794efa85409b6c8">getIndex</a>( <span class="stringliteral">"\t"</span> )) &gt; 0 )
<a name="l00262"></a>00262                 {
<a name="l00263"></a>00263                         strText = &amp;strBuffer[pos+1];
<a name="l00264"></a>00264 
<a name="l00265"></a>00265                         strText.<a class="code" href="classText.html#218720737506b3278d080ba4198d0f86">divideStringsPtr</a>( <span class="stringliteral">"#"</span> );
<a name="l00266"></a>00266                         <span class="keywordtype">int</span> n = strText.<a class="code" href="classText.html#677230c4f58f15cff7b014a91492e10b">getCount</a>();
<a name="l00267"></a>00267                         <span class="keywordtype">char</span>** pstr = strText.<a class="code" href="classText.html#a5ccfe846fc0a6976000feebc3775db9">getPStr</a>();
<a name="l00268"></a>00268 
<a name="l00269"></a>00269                         strex = strBuffer.<a class="code" href="classStringEx.html#bd2c36be4fbacd796cd43ecc5ea0de57">getSubString</a>( 0, pos );
<a name="l00270"></a>00270 
<a name="l00271"></a>00271                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  tag  = 0;
<a name="l00272"></a>00272                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> coda = 0;
<a name="l00273"></a>00273 
<a name="l00274"></a>00274                         <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; n; i++ )
<a name="l00275"></a>00275                         {
<a name="l00276"></a>00276                                 strSubText = pstr[i];
<a name="l00277"></a>00277 
<a name="l00279"></a>00279                                 strSubText.<a class="code" href="classText.html#218720737506b3278d080ba4198d0f86">divideStringsPtr</a>( <span class="stringliteral">" "</span> );
<a name="l00280"></a>00280                                 <span class="keywordtype">int</span>       nn = strSubText.<a class="code" href="classText.html#677230c4f58f15cff7b014a91492e10b">getCount</a>();
<a name="l00281"></a>00281                                 <span class="keywordtype">char</span>** pstr2 = strSubText.<a class="code" href="classText.html#a5ccfe846fc0a6976000feebc3775db9">getPStr</a>();
<a name="l00282"></a>00282 
<a name="l00283"></a>00283                                 <span class="keywordflow">if</span>( nn &lt; 2 || nn &gt; 3 )
<a name="l00284"></a>00284                                 {
<a name="l00285"></a>00285                                         cerr &lt;&lt; <span class="stringliteral">"Error in "</span> &lt;&lt; strBuffer &lt;&lt; <span class="stringliteral">" Line..."</span> &lt;&lt; endl;
<a name="l00286"></a>00286                                         <span class="keywordflow">continue</span>;
<a name="l00287"></a>00287                                 }
<a name="l00288"></a>00288 
<a name="l00289"></a>00289                                 <span class="keywordtype">char</span>* ppos = strchr( pstr2[0], <span class="charliteral">'/'</span> );
<a name="l00290"></a>00290                                 
<a name="l00291"></a>00291                                 <span class="keywordflow">if</span>( ppos == 0 )
<a name="l00292"></a>00292                                 {
<a name="l00293"></a>00293                                         cerr &lt;&lt; <span class="stringliteral">"Error in "</span> &lt;&lt; strBuffer &lt;&lt; <span class="stringliteral">" Line..."</span> &lt;&lt; endl;
<a name="l00294"></a>00294                                         <span class="keywordflow">continue</span>;
<a name="l00295"></a>00295                                 }
<a name="l00296"></a>00296 
<a name="l00297"></a>00297                                 *ppos = <span class="charliteral">'\0'</span>;
<a name="l00298"></a>00298 
<a name="l00299"></a>00299                                 <span class="keywordtype">char</span>* p;
<a name="l00300"></a>00300 
<a name="l00301"></a>00301                                 <span class="keywordflow">if</span>( nn &gt; 2 )    coda = (char)strtol( pstr2[2], &amp;p, 16 );
<a name="l00302"></a>00302                                 <span class="keywordflow">else</span>                    coda = 0;
<a name="l00303"></a>00303 
<a name="l00304"></a>00304                                 <span class="keywordflow">if</span>( !isJosa )
<a name="l00305"></a>00305                                 {
<a name="l00306"></a>00306                                         <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#aaaffab5a6c0ecad023a286ab81124c1" title="This function inserts the information of a postposition or ending in a word.">appendInfo</a>( <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#506499720e4e8cfdd18ac973d9ea9e71" title="This function gets the current position of the buffer.">getBufferPos</a>(), (tag = <a class="code" href="classkmaOrange_1_1TagSet.html#0d5649071e5a2b636b75b67ed19a0c11">TagSet::convertTagStringToCode</a>( ppos + 1 ))
<a name="l00307"></a>00307                                                 , (<span class="keywordtype">short</span> <span class="keywordtype">int</span>)strtol( pstr2[1], &amp;p, 16 ), (<span class="keywordtype">unsigned</span> char)coda );
<a name="l00308"></a>00308 
<a name="l00309"></a>00309                                         <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#1d59bc9cc086950f9cbebba033c12c7e" title="This function inserts the string of a word.">appendBuffer</a>( pstr2[0], (<span class="keywordtype">int</span>)strlen(pstr2[0]) );
<a name="l00310"></a>00310                                 }
<a name="l00311"></a>00311                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>( (i == n-1) )
<a name="l00312"></a>00312                                 {
<a name="l00313"></a>00313                                         tag |= <a class="code" href="classkmaOrange_1_1TagSet.html#0d5649071e5a2b636b75b67ed19a0c11">TagSet::convertTagStringToCode</a>( ppos + 1 );
<a name="l00314"></a>00314 
<a name="l00315"></a>00315                                         <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#aaaffab5a6c0ecad023a286ab81124c1" title="This function inserts the information of a postposition or ending in a word.">appendInfo</a>( <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#506499720e4e8cfdd18ac973d9ea9e71" title="This function gets the current position of the buffer.">getBufferPos</a>(), tag
<a name="l00316"></a>00316                                                 , (<span class="keywordtype">short</span> int)strtol( pstr2[1], &amp;p, 16 ), (<span class="keywordtype">unsigned</span> char)coda );
<a name="l00317"></a>00317 
<a name="l00318"></a>00318                                         <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#1d59bc9cc086950f9cbebba033c12c7e" title="This function inserts the string of a word.">appendBuffer</a>( pstr2[0], (<span class="keywordtype">int</span>)strlen(pstr2[0]) );
<a name="l00319"></a>00319 
<a name="l00320"></a>00320                                         jeti.<a class="code" href="classJosaEomiTrieInfo.html#cf93b6828d86eef11b44e31dcdb64c8a" title="the index of a postposition information.">posJosa</a> = <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#9b038ab505a0d970bc8a8dddef62f02c" title="This function gets the current position of the buffer.">getPos</a>() - 1;
<a name="l00321"></a>00321                                 }
<a name="l00322"></a>00322                                 <span class="keywordflow">else</span>
<a name="l00323"></a>00323                                 {
<a name="l00324"></a>00324                                         tag |= <a class="code" href="classkmaOrange_1_1TagSet.html#0d5649071e5a2b636b75b67ed19a0c11">TagSet::convertTagStringToCode</a>( ppos + 1 );
<a name="l00325"></a>00325                                 }
<a name="l00327"></a>00327 
<a name="l00328"></a>00328                                 <span class="keywordflow">if</span>( isJosa != <span class="keyword">true</span> )
<a name="l00329"></a>00329                                 {
<a name="l00330"></a>00330                                         <span class="keywordflow">switch</span>( coda )
<a name="l00331"></a>00331                                         {
<a name="l00332"></a>00332                                         <span class="keywordflow">case</span> <a class="code" href="tagNinfo_8h.html#f4b31bb9dc775eea0328e01d02ec99cf">hlL</a>:
<a name="l00333"></a>00333                                                 jeti.<a class="code" href="classJosaEomiTrieInfo.html#fd2d03bf4a3296e04d6d481b0ddf2f73" title="the index of a ending information, which has a &amp;#39;ï¿½ï¿½&amp;#39; coda as the first...">poshlL</a> = <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#9b038ab505a0d970bc8a8dddef62f02c" title="This function gets the current position of the buffer.">getPos</a>() - 1;
<a name="l00334"></a>00334                                                 <span class="keywordflow">break</span>;
<a name="l00335"></a>00335                                         <span class="keywordflow">case</span> <a class="code" href="tagNinfo_8h.html#c5d884ae369a6e2891a6d0e3c51b2dec">hlN</a>:
<a name="l00336"></a>00336                                                 jeti.<a class="code" href="classJosaEomiTrieInfo.html#4914dd1866b5fc75ebe8a0cc152edfc3" title="the index of a ending information, which has a &amp;#39;ï¿½ï¿½&amp;#39; coda as the first...">poshlN</a> = <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#9b038ab505a0d970bc8a8dddef62f02c" title="This function gets the current position of the buffer.">getPos</a>() - 1;
<a name="l00337"></a>00337                                                 <span class="keywordflow">break</span>;
<a name="l00338"></a>00338                                         <span class="keywordflow">case</span> <a class="code" href="tagNinfo_8h.html#47f631c7a43a1d25ef4b88e7aa7665f3">hlB</a>:
<a name="l00339"></a>00339                                                 jeti.<a class="code" href="classJosaEomiTrieInfo.html#77a46726b05d28b368ee96f70103a81b" title="the index of a ending information, which has a &amp;#39;ï¿½ï¿½&amp;#39; coda as the first...">poshlB</a> = <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#9b038ab505a0d970bc8a8dddef62f02c" title="This function gets the current position of the buffer.">getPos</a>() - 1;
<a name="l00340"></a>00340                                                 <span class="keywordflow">break</span>;
<a name="l00341"></a>00341                                         <span class="keywordflow">case</span> <a class="code" href="tagNinfo_8h.html#2d32670a5b3ac68499dd231995d3557c">hlM</a>:
<a name="l00342"></a>00342                                                 jeti.<a class="code" href="classJosaEomiTrieInfo.html#b4804002b12abfb9705b0f249ad98637" title="the index of a ending information, which has a &amp;#39;ï¿½ï¿½&amp;#39; coda as the first...">poshlM</a> = <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#9b038ab505a0d970bc8a8dddef62f02c" title="This function gets the current position of the buffer.">getPos</a>() - 1;
<a name="l00343"></a>00343                                                 <span class="keywordflow">break</span>;
<a name="l00344"></a>00344                                         <span class="keywordflow">case</span> 0:
<a name="l00345"></a>00345                                                 jeti.<a class="code" href="classJosaEomiTrieInfo.html#a43c431b8ca6cad51b0e7e0f4663749e" title="the index of a ending information, which don&amp;#39;t have a coda as the first syllable...">poshlFILL</a> = <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#9b038ab505a0d970bc8a8dddef62f02c" title="This function gets the current position of the buffer.">getPos</a>() - 1;
<a name="l00346"></a>00346                                                 <span class="keywordflow">break</span>;
<a name="l00347"></a>00347                                         <span class="keywordflow">default</span>:
<a name="l00348"></a>00348                                                 cerr &lt;&lt; <span class="stringliteral">"Error in "</span> &lt;&lt; strID &lt;&lt; <span class="stringliteral">" file.."</span> &lt;&lt; endl;
<a name="l00349"></a>00349                                                 <span class="keywordflow">break</span>;
<a name="l00350"></a>00350                                         }
<a name="l00351"></a>00351                                 }
<a name="l00352"></a>00352                         }
<a name="l00353"></a>00353 
<a name="l00354"></a>00354                         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#580a2bff4df42be6211a7695c77c3a41" title="a WK_DaTrie object of grammatical morphemes.">_josaEomiTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#9481717e899b14ef84195b178aa137bf">insertKey</a>( strex.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>(), trieNode ) )
<a name="l00355"></a>00355                         {
<a name="l00356"></a>00356                                 <span class="keywordflow">if</span>( isJosa ) jeti.<a class="code" href="classJosaEomiTrieInfo.html#8294fbdd59f02d0448137cfc6b4a9f4d">tag</a> |= tag;
<a name="l00357"></a>00357                                 <span class="keywordflow">else</span>             jeti.<a class="code" href="classJosaEomiTrieInfo.html#8294fbdd59f02d0448137cfc6b4a9f4d">tag</a> |= tag;
<a name="l00358"></a>00358 
<a name="l00359"></a>00359                                 <span class="keywordflow">if</span>( trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#d1035d188f70a5f3911aa553c48c07e4">getData</a>() &gt; 0 )
<a name="l00360"></a>00360                                 {
<a name="l00361"></a>00361                                         <span class="keywordflow">if</span>( isJosa )
<a name="l00362"></a>00362                                         {
<a name="l00363"></a>00363                                                 <a class="code" href="classkmaOrange_1_1Dictionary.html#b9784b60c4c70b298bca88ab0857075b" title="the information list of grammatical morphemes.">_josaEomiInfoPoolList</a>[ trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#d1035d188f70a5f3911aa553c48c07e4">getData</a>() ].tag    |= jeti.<a class="code" href="classJosaEomiTrieInfo.html#8294fbdd59f02d0448137cfc6b4a9f4d">tag</a>;
<a name="l00364"></a>00364                                                 <a class="code" href="classkmaOrange_1_1Dictionary.html#b9784b60c4c70b298bca88ab0857075b" title="the information list of grammatical morphemes.">_josaEomiInfoPoolList</a>[ trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#d1035d188f70a5f3911aa553c48c07e4">getData</a>() ].posJosa = jeti.<a class="code" href="classJosaEomiTrieInfo.html#cf93b6828d86eef11b44e31dcdb64c8a" title="the index of a postposition information.">posJosa</a>;
<a name="l00365"></a>00365                                         }
<a name="l00366"></a>00366                                         <span class="keywordflow">else</span>
<a name="l00367"></a>00367                                         {
<a name="l00368"></a>00368                                                 <a class="code" href="classkmaOrange_1_1Dictionary.html#b9784b60c4c70b298bca88ab0857075b" title="the information list of grammatical morphemes.">_josaEomiInfoPoolList</a>[ trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#d1035d188f70a5f3911aa553c48c07e4">getData</a>() ].tag          |= jeti.<a class="code" href="classJosaEomiTrieInfo.html#8294fbdd59f02d0448137cfc6b4a9f4d">tag</a>;
<a name="l00369"></a>00369                                                 <a class="code" href="classkmaOrange_1_1Dictionary.html#b9784b60c4c70b298bca88ab0857075b" title="the information list of grammatical morphemes.">_josaEomiInfoPoolList</a>[ trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#d1035d188f70a5f3911aa553c48c07e4">getData</a>() ].poshlL    = jeti.<a class="code" href="classJosaEomiTrieInfo.html#fd2d03bf4a3296e04d6d481b0ddf2f73" title="the index of a ending information, which has a &amp;#39;ï¿½ï¿½&amp;#39; coda as the first...">poshlL</a>;
<a name="l00370"></a>00370                                                 <a class="code" href="classkmaOrange_1_1Dictionary.html#b9784b60c4c70b298bca88ab0857075b" title="the information list of grammatical morphemes.">_josaEomiInfoPoolList</a>[ trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#d1035d188f70a5f3911aa553c48c07e4">getData</a>() ].poshlN    = jeti.<a class="code" href="classJosaEomiTrieInfo.html#4914dd1866b5fc75ebe8a0cc152edfc3" title="the index of a ending information, which has a &amp;#39;ï¿½ï¿½&amp;#39; coda as the first...">poshlN</a>;
<a name="l00371"></a>00371                                                 <a class="code" href="classkmaOrange_1_1Dictionary.html#b9784b60c4c70b298bca88ab0857075b" title="the information list of grammatical morphemes.">_josaEomiInfoPoolList</a>[ trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#d1035d188f70a5f3911aa553c48c07e4">getData</a>() ].poshlB    = jeti.<a class="code" href="classJosaEomiTrieInfo.html#77a46726b05d28b368ee96f70103a81b" title="the index of a ending information, which has a &amp;#39;ï¿½ï¿½&amp;#39; coda as the first...">poshlB</a>;
<a name="l00372"></a>00372                                                 <a class="code" href="classkmaOrange_1_1Dictionary.html#b9784b60c4c70b298bca88ab0857075b" title="the information list of grammatical morphemes.">_josaEomiInfoPoolList</a>[ trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#d1035d188f70a5f3911aa553c48c07e4">getData</a>() ].poshlM    = jeti.<a class="code" href="classJosaEomiTrieInfo.html#b4804002b12abfb9705b0f249ad98637" title="the index of a ending information, which has a &amp;#39;ï¿½ï¿½&amp;#39; coda as the first...">poshlM</a>;
<a name="l00373"></a>00373                                                 <a class="code" href="classkmaOrange_1_1Dictionary.html#b9784b60c4c70b298bca88ab0857075b" title="the information list of grammatical morphemes.">_josaEomiInfoPoolList</a>[ trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#d1035d188f70a5f3911aa553c48c07e4">getData</a>() ].poshlFILL = jeti.<a class="code" href="classJosaEomiTrieInfo.html#a43c431b8ca6cad51b0e7e0f4663749e" title="the index of a ending information, which don&amp;#39;t have a coda as the first syllable...">poshlFILL</a>;
<a name="l00374"></a>00374                                         }
<a name="l00375"></a>00375                                 }
<a name="l00376"></a>00376                                 <span class="keywordflow">else</span>
<a name="l00377"></a>00377                                 {
<a name="l00378"></a>00378                                         trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#e2cd732b26b4423dfe36ea4513032924">setData</a>( (<span class="keywordtype">int</span>)(<a class="code" href="classkmaOrange_1_1Dictionary.html#b9784b60c4c70b298bca88ab0857075b" title="the information list of grammatical morphemes.">_josaEomiInfoPoolList</a>.size()) );
<a name="l00379"></a>00379                                         <a class="code" href="classkmaOrange_1_1Dictionary.html#b9784b60c4c70b298bca88ab0857075b" title="the information list of grammatical morphemes.">_josaEomiInfoPoolList</a>.<a class="code" href="classListEx.html#14006a0f7481d9849d1c77950e8a0b2a">addTuple</a>( jeti );
<a name="l00380"></a>00380                                 }
<a name="l00381"></a>00381                         }
<a name="l00382"></a>00382                         <span class="keywordflow">else</span>
<a name="l00383"></a>00383                         {
<a name="l00384"></a>00384                                 cerr &lt;&lt; <span class="stringliteral">"Error in reading "</span> &lt;&lt; strID &lt;&lt; <span class="stringliteral">" dic.."</span> &lt;&lt; strex &lt;&lt; endl;
<a name="l00385"></a>00385                         }
<a name="l00386"></a>00386                 }
<a name="l00387"></a>00387 
<a name="l00388"></a>00388 <span class="comment">//              if( (cntDot++ % 100) == 0 ) cout &lt;&lt; ".";</span>
<a name="l00389"></a>00389         }
<a name="l00390"></a>00390 
<a name="l00391"></a>00391 <span class="comment">//      cout &lt;&lt; endl;</span>
<a name="l00392"></a>00392         fin.close();
<a name="l00393"></a>00393         <span class="keywordflow">return</span> 0;
<a name="l00394"></a>00394 }
<a name="l00395"></a>00395 
<a name="l00396"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#49b4c3ca79471264e213d12e12d8333c">00396</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#49b4c3ca79471264e213d12e12d8333c" title="This function sets contents of a MainTrieInfo object.">Dictionary::makeMainTrieInfo</a>( <a class="code" href="classStringEx.html">StringEx</a>&amp; strInfo, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structkmaOrange_1_1tagcode.html">tagcode</a>, <a class="code" href="classMainTrieInfo.html" title="a class has additional information of the main trie( including NNG, NNB, NNP, NP...">MainTrieInfo</a>&amp; mti )
<a name="l00397"></a>00397 {
<a name="l00398"></a>00398         <span class="keywordflow">switch</span>( tagcode )
<a name="l00399"></a>00399         {
<a name="l00400"></a>00400         <span class="keywordflow">case</span> <a class="code" href="wk__pos_8h.html#04edcc26150072c1a5af21ee66039d37">NNG</a>: <span class="keywordflow">case</span> <a class="code" href="wk__pos_8h.html#b04c88bedc6b2be8ddfe7aa8d3e93f06">NP</a>: <span class="keywordflow">case</span> <a class="code" href="wk__pos_8h.html#6fee57a697171ef8b1be8dd3ad6bdcee">NNI</a>: <span class="keywordflow">case</span> <a class="code" href="wk__pos_8h.html#5444db5d5cbd4344f6c0f17cc2639628">VV</a>: <span class="keywordflow">case</span> <a class="code" href="wk__pos_8h.html#a4810b23175075d963b4a2836751e9d5">VA</a>:
<a name="l00401"></a>00401         <span class="keywordflow">case</span> <a class="code" href="wk__pos_8h.html#b5c211164bc758d659684627ead243b4">VX</a>:  <span class="keywordflow">case</span> <a class="code" href="wk__pos_8h.html#11702dcb3f3ec928229185eb96686127">MA</a>: <span class="keywordflow">case</span> <a class="code" href="wk__pos_8h.html#fdc383f8992f4a960bb22998f57b6d37">MM</a>:  <span class="keywordflow">case</span> <a class="code" href="wk__pos_8h.html#9a554ab1c3840c9c77f6476f776232c2">IC</a>:
<a name="l00402"></a>00402                 mti.<a class="code" href="classMainTrieInfo.html#58583e1b830e9431567f4dbda01f1f5e" title="POS tag.">tag</a> = tagcode;
<a name="l00403"></a>00403                 <span class="keywordflow">break</span>;
<a name="l00404"></a>00404         <span class="keywordflow">case</span> <a class="code" href="wk__pos_8h.html#c26671f675f0f95193c45940c3ebcaa3">NNB</a>:
<a name="l00405"></a>00405                 mti.<a class="code" href="classMainTrieInfo.html#58583e1b830e9431567f4dbda01f1f5e" title="POS tag.">tag</a> = tagcode;
<a name="l00406"></a>00406                 strInfo.<a class="code" href="classStringEx.html#d36b21f97aac5288fa44243bcb9a696a">trim</a>();
<a name="l00407"></a>00407                 <span class="keywordflow">if</span>( strInfo.<a class="code" href="classStringEx.html#88e19f0888814f720ef6b1bbec459ded">isEmpty</a>() )
<a name="l00408"></a>00408                 {
<a name="l00409"></a>00409                         cerr &lt;&lt; <span class="stringliteral">"NNB file is corrupted.."</span> &lt;&lt; endl;
<a name="l00410"></a>00410                         <span class="keywordflow">return</span> 0;
<a name="l00411"></a>00411                 }
<a name="l00412"></a>00412                 <span class="keywordflow">else</span>
<a name="l00413"></a>00413                 {
<a name="l00414"></a>00414                         mti.<a class="code" href="classMainTrieInfo.html#0d7bda79214949fad26706e5e3dbad84" title="the position of additional information of a word, which has a NNB tag.">posNNB</a> = <a class="code" href="classkmaOrange_1_1Dictionary.html#6d1c4742b3526ce18ef708b16afb9686" title="temporary buffer of lexical morphemes.">_mainBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#506499720e4e8cfdd18ac973d9ea9e71" title="This function gets the current position of the buffer.">getBufferPos</a>();
<a name="l00415"></a>00415                         <a class="code" href="classkmaOrange_1_1Dictionary.html#6d1c4742b3526ce18ef708b16afb9686" title="temporary buffer of lexical morphemes.">_mainBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#1d59bc9cc086950f9cbebba033c12c7e" title="This function inserts the string of a word.">appendBuffer</a>( strInfo.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>(), (<span class="keywordtype">unsigned</span> int)strInfo.<a class="code" href="classStringEx.html#d377a20ec6e6ca28e8c470189903a87d">length</a>() );
<a name="l00416"></a>00416                 }
<a name="l00417"></a>00417                 <span class="keywordflow">break</span>;
<a name="l00418"></a>00418         <span class="keywordflow">case</span> <a class="code" href="wk__pos_8h.html#b95d8ad0f341c7be8d009f7750addce3">NNP</a>:
<a name="l00419"></a>00419                 mti.<a class="code" href="classMainTrieInfo.html#58583e1b830e9431567f4dbda01f1f5e" title="POS tag.">tag</a> = tagcode;
<a name="l00420"></a>00420                 strInfo.<a class="code" href="classStringEx.html#d36b21f97aac5288fa44243bcb9a696a">trim</a>();
<a name="l00421"></a>00421                 <span class="keywordflow">if</span>( strInfo.<a class="code" href="classStringEx.html#88e19f0888814f720ef6b1bbec459ded">isEmpty</a>() )
<a name="l00422"></a>00422                 {
<a name="l00423"></a>00423                         cerr &lt;&lt; <span class="stringliteral">"NNP file is corrupted.."</span> &lt;&lt; endl;
<a name="l00424"></a>00424                         <span class="keywordflow">return</span> 0;
<a name="l00425"></a>00425                 }
<a name="l00426"></a>00426                 <span class="keywordflow">else</span>
<a name="l00427"></a>00427                 {
<a name="l00428"></a>00428                         mti.<a class="code" href="classMainTrieInfo.html#38e0c8dbd7a077775365baa8e82655bb" title="the position of additional information of a word, which has a NNP tag.">posNNP</a> = <a class="code" href="classkmaOrange_1_1Dictionary.html#6d1c4742b3526ce18ef708b16afb9686" title="temporary buffer of lexical morphemes.">_mainBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#506499720e4e8cfdd18ac973d9ea9e71" title="This function gets the current position of the buffer.">getBufferPos</a>();
<a name="l00429"></a>00429                         <a class="code" href="classkmaOrange_1_1Dictionary.html#6d1c4742b3526ce18ef708b16afb9686" title="temporary buffer of lexical morphemes.">_mainBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#1d59bc9cc086950f9cbebba033c12c7e" title="This function inserts the string of a word.">appendBuffer</a>( strInfo.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>(), (<span class="keywordtype">unsigned</span> int)strInfo.<a class="code" href="classStringEx.html#d377a20ec6e6ca28e8c470189903a87d">length</a>() );
<a name="l00430"></a>00430                 }
<a name="l00431"></a>00431                 <span class="keywordflow">break</span>;
<a name="l00432"></a>00432         <span class="keywordflow">case</span> <a class="code" href="wk__pos_8h.html#967ac0388ff9fa4046838db512793978">NNU</a>:
<a name="l00433"></a>00433                 mti.<a class="code" href="classMainTrieInfo.html#58583e1b830e9431567f4dbda01f1f5e" title="POS tag.">tag</a> = tagcode;
<a name="l00434"></a>00434                 strInfo.<a class="code" href="classStringEx.html#d36b21f97aac5288fa44243bcb9a696a">trim</a>();
<a name="l00435"></a>00435                 <span class="keywordflow">if</span>( strInfo.<a class="code" href="classStringEx.html#88e19f0888814f720ef6b1bbec459ded">isEmpty</a>() )
<a name="l00436"></a>00436                 {
<a name="l00437"></a>00437                         cerr &lt;&lt; <span class="stringliteral">"NNU file is corrupted.."</span> &lt;&lt; endl;
<a name="l00438"></a>00438                         <span class="keywordflow">return</span> 0;
<a name="l00439"></a>00439                 }
<a name="l00440"></a>00440                 <span class="keywordflow">else</span>
<a name="l00441"></a>00441                 {
<a name="l00442"></a>00442                         mti.<a class="code" href="classMainTrieInfo.html#ef418954521cb760e6f6550390a44a67" title="the position of additional information of a word, which has a NNU tag.">posNNU</a> = <a class="code" href="classkmaOrange_1_1Dictionary.html#6d1c4742b3526ce18ef708b16afb9686" title="temporary buffer of lexical morphemes.">_mainBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#506499720e4e8cfdd18ac973d9ea9e71" title="This function gets the current position of the buffer.">getBufferPos</a>();
<a name="l00443"></a>00443                         <a class="code" href="classkmaOrange_1_1Dictionary.html#6d1c4742b3526ce18ef708b16afb9686" title="temporary buffer of lexical morphemes.">_mainBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#1d59bc9cc086950f9cbebba033c12c7e" title="This function inserts the string of a word.">appendBuffer</a>( strInfo.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>(), (<span class="keywordtype">unsigned</span> int)strInfo.<a class="code" href="classStringEx.html#d377a20ec6e6ca28e8c470189903a87d">length</a>() );
<a name="l00444"></a>00444                 }
<a name="l00445"></a>00445                 <span class="keywordflow">break</span>;
<a name="l00446"></a>00446         }
<a name="l00447"></a>00447 
<a name="l00448"></a>00448         <span class="keywordflow">return</span> 1;
<a name="l00449"></a>00449 }
<a name="l00450"></a>00450 
<a name="l00451"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#e29df4e3436b7fa1f06c9afea1f3c633">00451</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#e29df4e3436b7fa1f06c9afea1f3c633" title="This function loads the lexical morphemes dictionary file.">Dictionary::readCommonDictionary</a>( <a class="code" href="classStringEx.html">StringEx</a>&amp; strFileName, <a class="code" href="classStringEx.html">StringEx</a>&amp; strID)
<a name="l00452"></a>00452 {
<a name="l00453"></a>00453 <span class="comment">//      cout &lt;&lt; strID;</span>
<a name="l00454"></a>00454         <span class="keywordtype">bool</span> isNNG = (strID == <span class="stringliteral">"NNG"</span>) || (strID == <span class="stringliteral">"NNU"</span>);
<a name="l00455"></a>00455 
<a name="l00456"></a>00456         ifstream fin( strFileName.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>() );
<a name="l00457"></a>00457 
<a name="l00458"></a>00458         <span class="keywordflow">if</span>( fin.fail() ) 
<a name="l00459"></a>00459     {
<a name="l00460"></a>00460 <span class="comment">//      cerr &lt;&lt; "Can't open " &lt;&lt; strFileName &lt;&lt; " file." &lt;&lt; endl;</span>
<a name="l00461"></a>00461         <span class="keywordflow">return</span> -1;
<a name="l00462"></a>00462     }
<a name="l00463"></a>00463 
<a name="l00464"></a>00464         <a class="code" href="classText.html">Text</a> strBuffer( <a class="code" href="Dictionary_8h.html#7098e2771ce52be8535854a107e89643">SIZE4096</a> );
<a name="l00465"></a>00465         <a class="code" href="classStringEx.html">StringEx</a> strex( <a class="code" href="Dictionary_8h.html#7098e2771ce52be8535854a107e89643">SIZE4096</a> );
<a name="l00466"></a>00466         <a class="code" href="classStringEx.html">StringEx</a> strInfo( <a class="code" href="Dictionary_8h.html#7098e2771ce52be8535854a107e89643">SIZE4096</a> );
<a name="l00467"></a>00467 
<a name="l00468"></a>00468 <span class="comment">//      int cntDot = 0;</span>
<a name="l00469"></a>00469 
<a name="l00470"></a>00470         <a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html">WK_DaTrie_Node</a> trieNode;
<a name="l00471"></a>00471 
<a name="l00472"></a>00472         <span class="keywordflow">while</span>( !fin.eof() )
<a name="l00473"></a>00473         {
<a name="l00474"></a>00474                 <span class="keywordtype">bool</span> isF = <span class="keyword">false</span>;
<a name="l00475"></a>00475 
<a name="l00476"></a>00476                 getline( fin, strBuffer );
<a name="l00477"></a>00477 
<a name="l00478"></a>00478                 <span class="keywordflow">if</span>( strBuffer.<a class="code" href="classStringEx.html#2f853993f378542f2ff7c15ad9c33c83">startWith</a>(<span class="stringliteral">";"</span>) || strBuffer.<a class="code" href="classStringEx.html#2f853993f378542f2ff7c15ad9c33c83">startWith</a>(<span class="stringliteral">"/"</span>) || strBuffer.<a class="code" href="classStringEx.html#2f853993f378542f2ff7c15ad9c33c83">startWith</a>(<span class="stringliteral">" "</span>)
<a name="l00479"></a>00479                         || strBuffer.<a class="code" href="classStringEx.html#2f853993f378542f2ff7c15ad9c33c83">startWith</a>(<span class="stringliteral">"\n"</span>) || strBuffer.<a class="code" href="classStringEx.html#2f853993f378542f2ff7c15ad9c33c83">startWith</a>(<span class="stringliteral">"\r"</span>) ) <span class="keywordflow">continue</span>;
<a name="l00480"></a>00480 
<a name="l00481"></a>00481                 <span class="keywordflow">if</span>( isNNG &amp;&amp; (strBuffer[0] == <span class="charliteral">'@'</span>) )
<a name="l00482"></a>00482                 {
<a name="l00483"></a>00483                         strBuffer.<a class="code" href="classStringEx.html#a9416c29e6eaaa05c8831d4320019717">trimLeft</a>( <span class="charliteral">'@'</span> );
<a name="l00484"></a>00484                         isF = <span class="keyword">true</span>;
<a name="l00485"></a>00485                 }
<a name="l00486"></a>00486 
<a name="l00487"></a>00487                 <span class="keywordtype">char</span>* pp = strBuffer.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>();
<a name="l00488"></a>00488                 <span class="keywordtype">char</span>* ppos;
<a name="l00489"></a>00489 
<a name="l00490"></a>00490                 <span class="keywordflow">if</span>( (ppos = strpbrk( pp, <span class="stringliteral">"\t "</span> )) != 0 )
<a name="l00491"></a>00491                 {
<a name="l00492"></a>00492                         *ppos = <span class="charliteral">'\0'</span>;
<a name="l00493"></a>00493                         strInfo = ppos + 1;
<a name="l00494"></a>00494                 }
<a name="l00495"></a>00495 
<a name="l00496"></a>00496                 strex = strBuffer.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>();
<a name="l00497"></a>00497                 strex.<a class="code" href="classStringEx.html#d36b21f97aac5288fa44243bcb9a696a">trim</a>();
<a name="l00498"></a>00498 
<a name="l00499"></a>00499                 <span class="comment">//cerr &lt;&lt; strex &lt;&lt; endl;</span>
<a name="l00500"></a>00500 
<a name="l00501"></a>00501                 <span class="keywordflow">if</span>( strex.<a class="code" href="classStringEx.html#88e19f0888814f720ef6b1bbec459ded">isEmpty</a>() ) <span class="keywordflow">continue</span>;
<a name="l00502"></a>00502 
<a name="l00503"></a>00503                 <a class="code" href="classMainTrieInfo.html" title="a class has additional information of the main trie( including NNG, NNB, NNP, NP...">MainTrieInfo</a> mti;
<a name="l00504"></a>00504 
<a name="l00505"></a>00505                 <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#49b4c3ca79471264e213d12e12d8333c" title="This function sets contents of a MainTrieInfo object.">makeMainTrieInfo</a>( strInfo, <a class="code" href="classkmaOrange_1_1TagSet.html#0d5649071e5a2b636b75b67ed19a0c11">TagSet::convertTagStringToCode</a>(strID.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>()), mti ) &lt; 1 )
<a name="l00506"></a>00506                 {
<a name="l00507"></a>00507                         cerr &lt;&lt; strBuffer &lt;&lt; endl;
<a name="l00508"></a>00508                         <span class="keywordflow">continue</span>;
<a name="l00509"></a>00509                 }
<a name="l00510"></a>00510 
<a name="l00511"></a>00511                 <span class="keywordflow">if</span>( isF ) mti.<a class="code" href="classMainTrieInfo.html#80cbea1df4fb2319d55089b1ea4b29f4">isNNF</a> = 1;
<a name="l00512"></a>00512 
<a name="l00513"></a>00513                 <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#52eb564f4339216c94d197ca3cadb7e7" title="a WK_DaTrie object of lexical morphemes.">_mainTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#9481717e899b14ef84195b178aa137bf">insertKey</a>( strex.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>(), trieNode ) )
<a name="l00514"></a>00514                 {
<a name="l00515"></a>00515                         <span class="keywordflow">if</span>( trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#d1035d188f70a5f3911aa553c48c07e4">getData</a>() &gt; 0 )
<a name="l00516"></a>00516                         {
<a name="l00517"></a>00517                                 <a class="code" href="classkmaOrange_1_1Dictionary.html#8b4809c5e4427e0a886ebb98ccb1458e" title="the information list of lexical morphemes.">_mainInfoPoolList</a>[ trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#d1035d188f70a5f3911aa553c48c07e4">getData</a>() ].tag |= mti.<a class="code" href="classMainTrieInfo.html#58583e1b830e9431567f4dbda01f1f5e" title="POS tag.">tag</a>;
<a name="l00518"></a>00518 
<a name="l00519"></a>00519                                 <span class="keywordflow">if</span>( mti.<a class="code" href="classMainTrieInfo.html#58583e1b830e9431567f4dbda01f1f5e" title="POS tag.">tag</a> == <a class="code" href="wk__pos_8h.html#c26671f675f0f95193c45940c3ebcaa3">NNB</a> ) <a class="code" href="classkmaOrange_1_1Dictionary.html#8b4809c5e4427e0a886ebb98ccb1458e" title="the information list of lexical morphemes.">_mainInfoPoolList</a>[ trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#d1035d188f70a5f3911aa553c48c07e4">getData</a>() ].posNNB = mti.<a class="code" href="classMainTrieInfo.html#0d7bda79214949fad26706e5e3dbad84" title="the position of additional information of a word, which has a NNB tag.">posNNB</a>;
<a name="l00520"></a>00520                                 <span class="keywordflow">if</span>( mti.<a class="code" href="classMainTrieInfo.html#58583e1b830e9431567f4dbda01f1f5e" title="POS tag.">tag</a> == <a class="code" href="wk__pos_8h.html#b95d8ad0f341c7be8d009f7750addce3">NNP</a> ) <a class="code" href="classkmaOrange_1_1Dictionary.html#8b4809c5e4427e0a886ebb98ccb1458e" title="the information list of lexical morphemes.">_mainInfoPoolList</a>[ trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#d1035d188f70a5f3911aa553c48c07e4">getData</a>() ].posNNP = mti.<a class="code" href="classMainTrieInfo.html#38e0c8dbd7a077775365baa8e82655bb" title="the position of additional information of a word, which has a NNP tag.">posNNP</a>;
<a name="l00521"></a>00521                                 <span class="keywordflow">if</span>( mti.<a class="code" href="classMainTrieInfo.html#58583e1b830e9431567f4dbda01f1f5e" title="POS tag.">tag</a> == <a class="code" href="wk__pos_8h.html#967ac0388ff9fa4046838db512793978">NNU</a> ) <a class="code" href="classkmaOrange_1_1Dictionary.html#8b4809c5e4427e0a886ebb98ccb1458e" title="the information list of lexical morphemes.">_mainInfoPoolList</a>[ trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#d1035d188f70a5f3911aa553c48c07e4">getData</a>() ].posNNU = mti.<a class="code" href="classMainTrieInfo.html#ef418954521cb760e6f6550390a44a67" title="the position of additional information of a word, which has a NNU tag.">posNNU</a>;
<a name="l00522"></a>00522 
<a name="l00523"></a>00523                                 <a class="code" href="classkmaOrange_1_1Dictionary.html#8b4809c5e4427e0a886ebb98ccb1458e" title="the information list of lexical morphemes.">_mainInfoPoolList</a>[ trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#d1035d188f70a5f3911aa553c48c07e4">getData</a>() ].isNNF |= mti.<a class="code" href="classMainTrieInfo.html#80cbea1df4fb2319d55089b1ea4b29f4">isNNF</a>;
<a name="l00524"></a>00524                         }
<a name="l00525"></a>00525                         <span class="keywordflow">else</span>
<a name="l00526"></a>00526                         {
<a name="l00527"></a>00527                                 trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#e2cd732b26b4423dfe36ea4513032924">setData</a>( (<span class="keywordtype">int</span>)<a class="code" href="classkmaOrange_1_1Dictionary.html#8b4809c5e4427e0a886ebb98ccb1458e" title="the information list of lexical morphemes.">_mainInfoPoolList</a>.size() );
<a name="l00528"></a>00528                                 <a class="code" href="classkmaOrange_1_1Dictionary.html#8b4809c5e4427e0a886ebb98ccb1458e" title="the information list of lexical morphemes.">_mainInfoPoolList</a>.<a class="code" href="classListEx.html#14006a0f7481d9849d1c77950e8a0b2a">addTuple</a>( mti );      
<a name="l00529"></a>00529                         }       
<a name="l00530"></a>00530                 }
<a name="l00531"></a>00531                 <span class="keywordflow">else</span>
<a name="l00532"></a>00532                 {
<a name="l00533"></a>00533                         cerr &lt;&lt; <span class="stringliteral">"Error in reading "</span> &lt;&lt; strID &lt;&lt; <span class="stringliteral">" dic.."</span> &lt;&lt; endl;
<a name="l00534"></a>00534                 }
<a name="l00535"></a>00535 
<a name="l00536"></a>00536 <span class="comment">//              if( (cntDot++ % 100) == 0 ) cout &lt;&lt; ".";</span>
<a name="l00537"></a>00537         }
<a name="l00538"></a>00538 
<a name="l00539"></a>00539 <span class="comment">//      cout &lt;&lt; endl;</span>
<a name="l00540"></a>00540         fin.close();
<a name="l00541"></a>00541         <span class="keywordflow">return</span> 0;
<a name="l00542"></a>00542 }
<a name="l00543"></a>00543 
<a name="l00544"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#d7bb7409e2b9a69319fb64a96d96543b">00544</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#d7bb7409e2b9a69319fb64a96d96543b" title="This function loads the division information for decomposing a compound noun.">Dictionary::readDivideInfo</a>( <a class="code" href="classStringEx.html">StringEx</a> strID, <a class="code" href="classStringEx.html">StringEx</a> strFileName )
<a name="l00545"></a>00545 {
<a name="l00546"></a>00546         ifstream fin;
<a name="l00547"></a>00547         fin.open( strFileName.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>() );
<a name="l00548"></a>00548 
<a name="l00549"></a>00549         <span class="keywordflow">if</span>( fin.fail() )
<a name="l00550"></a>00550         {
<a name="l00551"></a>00551 <span class="comment">//              cerr &lt;&lt; "A loading of divInfo is failed. The system does not use division information." &lt;&lt; endl;</span>
<a name="l00552"></a>00552                 <span class="keywordflow">return</span> -1;
<a name="l00553"></a>00553         }
<a name="l00554"></a>00554 
<a name="l00555"></a>00555         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#44cf3309fd7c7bbefa394ac6bc78fe56" title="a WK_DaTrie object of the division information for decomposing a compound noun.">_divTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#f8b50a62c397ba902f8c07d559a9435b">create</a>( <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a> ) &lt; 0 )
<a name="l00556"></a>00556         {
<a name="l00557"></a>00557                 cerr &lt;&lt; <span class="stringliteral">"Can't create trie. So dictonaries are not created..."</span> &lt;&lt; endl;
<a name="l00558"></a>00558                 <span class="keywordflow">return</span> 0;
<a name="l00559"></a>00559         }
<a name="l00560"></a>00560 
<a name="l00561"></a>00561 <span class="comment">//      cout &lt;&lt; strID;</span>
<a name="l00562"></a>00562 
<a name="l00563"></a>00563         <a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html">WK_DaTrie_Node</a> trieNode;
<a name="l00564"></a>00564 
<a name="l00565"></a>00565         <a class="code" href="classStringEx.html">StringEx</a> strEntry;
<a name="l00566"></a>00566         strEntry.<a class="code" href="classStringEx.html#5e44f7dfc41db9f4ff1e25a353464ff0">setBufferSize</a>(100);
<a name="l00567"></a>00567 
<a name="l00568"></a>00568         <span class="keywordtype">char</span> szBuf[<a class="code" href="tagNinfo_8h.html#282aff925649644a31d74ecd76495368">BUFFER_SIZE_DIVINFO</a>];
<a name="l00569"></a>00569         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cnt = 0;
<a name="l00570"></a>00570 
<a name="l00571"></a>00571         <a class="code" href="classkmaOrange_1_1Dictionary.html#eebf34672a311605acc6354875282b0b" title="the list of DivideInfo object.">_divideInfos</a> = <span class="keyword">new</span> <a class="code" href="classDivideInfo.html" title="a class has information to calculate scores of compound nouns.">DivideInfo</a>[<a class="code" href="tagNinfo_8h.html#6605e8d20fc10d28563c68e7537370a9">MAX_DIVINFO</a>];
<a name="l00572"></a>00572         memset( <a class="code" href="classkmaOrange_1_1Dictionary.html#eebf34672a311605acc6354875282b0b" title="the list of DivideInfo object.">_divideInfos</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="classDivideInfo.html" title="a class has information to calculate scores of compound nouns.">DivideInfo</a>) * <a class="code" href="tagNinfo_8h.html#6605e8d20fc10d28563c68e7537370a9">MAX_DIVINFO</a> );
<a name="l00573"></a>00573 
<a name="l00574"></a>00574         <span class="keywordtype">char</span>* tok;
<a name="l00575"></a>00575         <a class="code" href="classkmaOrange_1_1Dictionary.html#eebf34672a311605acc6354875282b0b" title="the list of DivideInfo object.">_divideInfos</a>[0].<a class="code" href="classDivideInfo.html#bedb3100c1c1169f250df70c59afb2d8" title="the frequency information between two sylables.">freq</a> = 0;       
<a name="l00576"></a>00576         <span class="comment">//trieÀÇ getData ÇÔ¼ö¿¡¼­ µ¥ÀÌÅÍ °ªÀÌ ¾øÀ» °æ¿ì 0À» ¹ÝÈ¯ÇÏ¹Ç·Î Á¤º¸ ±¸¼ºÀ» À§ÇÑ ÀÚ·á±¸Á¶¿¡¼­ Ã¹¹øÂ° ¿ø¼Ò´Â »ç¿ëÇÏÁö ¾ÊÀ½</span>
<a name="l00577"></a>00577 
<a name="l00578"></a>00578         <span class="keywordflow">while</span>( !fin.eof() )
<a name="l00579"></a>00579         {
<a name="l00580"></a>00580                 memset( szBuf, 0, <a class="code" href="tagNinfo_8h.html#282aff925649644a31d74ecd76495368">BUFFER_SIZE_DIVINFO</a> );
<a name="l00581"></a>00581                 fin.getline( szBuf, <a class="code" href="tagNinfo_8h.html#282aff925649644a31d74ecd76495368">BUFFER_SIZE_DIVINFO</a> );
<a name="l00582"></a>00582                 <span class="keywordflow">if</span>( strlen( szBuf ) &lt;= 0 )      <span class="keywordflow">continue</span>;
<a name="l00583"></a>00583 
<a name="l00584"></a>00584                 strEntry = strtok(szBuf,<span class="stringliteral">" "</span>);
<a name="l00585"></a>00585                 strEntry += strtok(NULL,<span class="stringliteral">"\t"</span>);
<a name="l00586"></a>00586 
<a name="l00587"></a>00587                 tok = strtok( NULL,<span class="stringliteral">"\r\n"</span> );
<a name="l00588"></a>00588 
<a name="l00589"></a>00589                 <span class="comment">// °ªÀÌ 100º¸´Ù ÀÛÀº °ÍÀº ·ÎµùÇÏÁö ¾ÊÀ½</span>
<a name="l00590"></a>00590                 <span class="keywordflow">if</span>( !(tok != NULL &amp;&amp; (<a class="code" href="classkmaOrange_1_1Dictionary.html#eebf34672a311605acc6354875282b0b" title="the list of DivideInfo object.">_divideInfos</a>[cnt].freq = atoi( tok )) &gt; 99) ) <span class="keywordflow">continue</span>;
<a name="l00591"></a>00591 
<a name="l00592"></a>00592                 <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#44cf3309fd7c7bbefa394ac6bc78fe56" title="a WK_DaTrie object of the division information for decomposing a compound noun.">_divTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#9481717e899b14ef84195b178aa137bf">insertKey</a>( strEntry.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>(), trieNode ) )
<a name="l00593"></a>00593                 {
<a name="l00594"></a>00594                         trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#e2cd732b26b4423dfe36ea4513032924">setData</a>( cnt );
<a name="l00595"></a>00595                         cnt++;
<a name="l00596"></a>00596                 }
<a name="l00597"></a>00597 
<a name="l00598"></a>00598 <span class="comment">//              if( (cnt%1000) == 0 ) cout &lt;&lt; ".";</span>
<a name="l00599"></a>00599         }
<a name="l00600"></a>00600 
<a name="l00601"></a>00601         <a class="code" href="classkmaOrange_1_1Dictionary.html#dd2dc5534bc25b629ad4f99433afbbe5" title="the size of DivideInfo object.">_sizeDivInfo</a> = cnt;
<a name="l00602"></a>00602 
<a name="l00603"></a>00603 <span class="comment">//      cout &lt;&lt; endl;</span>
<a name="l00604"></a>00604         fin.close();
<a name="l00605"></a>00605         <span class="keywordflow">return</span> cnt;
<a name="l00606"></a>00606 }
<a name="l00607"></a>00607 
<a name="l00608"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#676d4f45dcfe21f931a65e94b8f3467e">00608</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#676d4f45dcfe21f931a65e94b8f3467e" title="This function loads the position information for decomposing a compound noun.">Dictionary::readPostionInfo</a>( <a class="code" href="classStringEx.html">StringEx</a> strID, <a class="code" href="classStringEx.html">StringEx</a> strFileName )
<a name="l00609"></a>00609 {
<a name="l00610"></a>00610         ifstream fin;
<a name="l00611"></a>00611         fin.open( strFileName.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>() );
<a name="l00612"></a>00612 
<a name="l00613"></a>00613         <span class="keywordflow">if</span>( fin.fail() )
<a name="l00614"></a>00614         {
<a name="l00615"></a>00615 <span class="comment">//              cerr &lt;&lt; "A loading of posInfo is failed. The system does not use position information." &lt;&lt; endl;</span>
<a name="l00616"></a>00616                 <span class="keywordflow">return</span> -1;
<a name="l00617"></a>00617         }
<a name="l00618"></a>00618 
<a name="l00619"></a>00619         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#c644dfcaa9eada0ee9a9356f8fb3db5a" title="a WK_DaTrie object of the position information for decomposing a compound noun.">_posTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#f8b50a62c397ba902f8c07d559a9435b">create</a>( <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a> ) &lt; 0 )
<a name="l00620"></a>00620         {
<a name="l00621"></a>00621                 cerr &lt;&lt; <span class="stringliteral">"Can't create trie. So dictonaries are not created..."</span> &lt;&lt; endl;
<a name="l00622"></a>00622                 <span class="keywordflow">return</span> 0;
<a name="l00623"></a>00623         }
<a name="l00624"></a>00624 
<a name="l00625"></a>00625 <span class="comment">//      cout &lt;&lt; strID;</span>
<a name="l00626"></a>00626 
<a name="l00627"></a>00627         <a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html">WK_DaTrie_Node</a> trieNode;
<a name="l00628"></a>00628 
<a name="l00629"></a>00629         <a class="code" href="classStringEx.html">StringEx</a> strEntry;
<a name="l00630"></a>00630         strEntry.<a class="code" href="classStringEx.html#5e44f7dfc41db9f4ff1e25a353464ff0">setBufferSize</a>(1000);
<a name="l00631"></a>00631 
<a name="l00632"></a>00632         <span class="keywordtype">char</span> szBuf[<a class="code" href="tagNinfo_8h.html#e495cd0268b8dfbbc06f132e6ea34468">BUFFER_SIZE_POSINFO</a>];
<a name="l00633"></a>00633         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cnt = 0;
<a name="l00634"></a>00634 
<a name="l00635"></a>00635         <a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a> = <span class="keyword">new</span> <a class="code" href="classPosInfo.html" title="a class has information to calculate scores of compound nouns.">PosInfo</a>[<a class="code" href="tagNinfo_8h.html#be585f277b62edf0cc8b698d02a70385">MAX_POSINFO</a>];
<a name="l00636"></a>00636         memset( <a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="classPosInfo.html" title="a class has information to calculate scores of compound nouns.">PosInfo</a>) * <a class="code" href="tagNinfo_8h.html#be585f277b62edf0cc8b698d02a70385">MAX_POSINFO</a> );
<a name="l00637"></a>00637 
<a name="l00638"></a>00638         <a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a>[0].<a class="code" href="classPosInfo.html#dfbb5c662cb289ba7c53712757af4e7c" title="the frequency information about a noun that is first position in a compound noun">freq_first</a>  = 0;
<a name="l00639"></a>00639         <a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a>[0].<a class="code" href="classPosInfo.html#b196ef658eb439010822780e260c6900" title="the frequency information about a noun that is middle position in a compound noun...">freq_middle</a> = 0;
<a name="l00640"></a>00640         <a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a>[0].<a class="code" href="classPosInfo.html#becd8d727f72e68f80df7f00f29ca37d" title="the frequency information about a noun that is last position in a compound noun">freq_last</a>   = 0;
<a name="l00641"></a>00641 
<a name="l00642"></a>00642         <span class="comment">//trieÀÇ getData ÇÔ¼ö¿¡¼­ µ¥ÀÌÅÍ °ªÀÌ ¾øÀ» °æ¿ì 0À» ¹ÝÈ¯ÇÏ¹Ç·Î Á¤º¸ ±¸¼ºÀ» À§ÇÑ ÀÚ·á±¸Á¶¿¡¼­ Ã¹¹øÂ° ¿ø¼Ò´Â »ç¿ëÇÏÁö ¾ÊÀ½</span>
<a name="l00643"></a>00643 
<a name="l00644"></a>00644         <span class="keywordflow">while</span>( !fin.eof() )
<a name="l00645"></a>00645         {
<a name="l00646"></a>00646                 memset( szBuf, 0, <a class="code" href="tagNinfo_8h.html#e495cd0268b8dfbbc06f132e6ea34468">BUFFER_SIZE_POSINFO</a> );
<a name="l00647"></a>00647                 fin.getline( szBuf, <a class="code" href="tagNinfo_8h.html#e495cd0268b8dfbbc06f132e6ea34468">BUFFER_SIZE_POSINFO</a> );
<a name="l00648"></a>00648                 <span class="keywordflow">if</span>( strlen(szBuf) &lt;= 0 ) <span class="keywordflow">continue</span>;
<a name="l00649"></a>00649 
<a name="l00650"></a>00650                 strEntry = strtok( szBuf, <span class="stringliteral">"\t"</span> );
<a name="l00651"></a>00651                 <span class="keywordflow">if</span>( strEntry.<a class="code" href="classStringEx.html#d377a20ec6e6ca28e8c470189903a87d">length</a>() &lt; 3 )     <span class="keywordflow">continue</span>;
<a name="l00652"></a>00652 
<a name="l00653"></a>00653                 <a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a>[cnt].<a class="code" href="classPosInfo.html#dfbb5c662cb289ba7c53712757af4e7c" title="the frequency information about a noun that is first position in a compound noun">freq_first</a>  = atoi( strtok( NULL, <span class="stringliteral">"\t"</span> ) );
<a name="l00654"></a>00654                 <a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a>[cnt].<a class="code" href="classPosInfo.html#b196ef658eb439010822780e260c6900" title="the frequency information about a noun that is middle position in a compound noun...">freq_middle</a> = atoi( strtok( NULL, <span class="stringliteral">"\t"</span> ) );
<a name="l00655"></a>00655                 <a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a>[cnt].<a class="code" href="classPosInfo.html#becd8d727f72e68f80df7f00f29ca37d" title="the frequency information about a noun that is last position in a compound noun">freq_last</a>   = atoi( strtok( NULL, <span class="stringliteral">"\r\n"</span> ) );
<a name="l00656"></a>00656 
<a name="l00657"></a>00657                 <span class="keywordflow">if</span>( (<a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a>[cnt].freq_first + <a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a>[cnt].freq_middle + <a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a>[cnt].freq_last) &lt; 100 ) <span class="keywordflow">continue</span>;
<a name="l00658"></a>00658 
<a name="l00659"></a>00659                 <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#c644dfcaa9eada0ee9a9356f8fb3db5a" title="a WK_DaTrie object of the position information for decomposing a compound noun.">_posTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#9481717e899b14ef84195b178aa137bf">insertKey</a>( strEntry.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>(), trieNode ) )
<a name="l00660"></a>00660                 {
<a name="l00661"></a>00661                         trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#e2cd732b26b4423dfe36ea4513032924">setData</a>( cnt );
<a name="l00662"></a>00662                         cnt++;
<a name="l00663"></a>00663                 }
<a name="l00664"></a>00664 
<a name="l00665"></a>00665 <span class="comment">//              if( (cnt%1000) == 0 )   cout &lt;&lt; ".";</span>
<a name="l00666"></a>00666         }
<a name="l00667"></a>00667 
<a name="l00668"></a>00668         <a class="code" href="classkmaOrange_1_1Dictionary.html#29cf18a61b8ae3d5d6122d0749ceb93f" title="the list of PosInfo object.">_sizePosInfo</a> = cnt;
<a name="l00669"></a>00669 
<a name="l00670"></a>00670 <span class="comment">//      cout &lt;&lt; endl;</span>
<a name="l00671"></a>00671         fin.close();
<a name="l00672"></a>00672         <span class="keywordflow">return</span> cnt;
<a name="l00673"></a>00673 }
<a name="l00674"></a>00674 
<a name="l00675"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#c0b9ddb423ad674ff15a77ee9663a641">00675</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#c0b9ddb423ad674ff15a77ee9663a641" title="This function creates and initializes a WK_DaTrie object.  This function loads a...">Dictionary::loadUserNoun</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *pPath, <span class="keyword">const</span> <span class="keywordtype">char</span>* pName, <span class="keywordtype">bool</span> isOverWriting )
<a name="l00676"></a>00676 {
<a name="l00677"></a>00677         <a class="code" href="classStringEx.html">StringEx</a> strPath = pPath;
<a name="l00678"></a>00678         <a class="code" href="classStringEx.html">StringEx</a> strID   = <span class="stringliteral">"NNU"</span>;
<a name="l00679"></a>00679 
<a name="l00680"></a>00680         <span class="keywordflow">if</span>( !strPath.<a class="code" href="classStringEx.html#e0a38173d0b2b402a9cda6cbc362576f">endWith</a>( <span class="stringliteral">"/"</span> ) &amp;&amp; !strPath.<a class="code" href="classStringEx.html#e0a38173d0b2b402a9cda6cbc362576f">endWith</a>( <span class="stringliteral">"\\"</span> ) ) strPath += <span class="stringliteral">"/"</span>;
<a name="l00681"></a>00681 
<a name="l00682"></a>00682         strPath += pName;
<a name="l00683"></a>00683 
<a name="l00684"></a>00684         <span class="keywordflow">return</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#e29df4e3436b7fa1f06c9afea1f3c633" title="This function loads the lexical morphemes dictionary file.">readCommonDictionary</a>( strPath, strID );
<a name="l00685"></a>00685 }
<a name="l00686"></a>00686 
<a name="l00687"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#8a78b756e3a98be8ded1f5a38b5bd4ae">00687</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#8a78b756e3a98be8ded1f5a38b5bd4ae" title="This function creates and initializes a WK_DaTrie object.  This function loads a...">Dictionary::loadPreAnalysis</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *pPath, <span class="keyword">const</span> <span class="keywordtype">char</span>* pName, <span class="keywordtype">bool</span> isOverWriting )
<a name="l00688"></a>00688 {
<a name="l00689"></a>00689         <a class="code" href="classStringEx.html">StringEx</a> strPath = pPath;
<a name="l00690"></a>00690         <a class="code" href="classStringEx.html">StringEx</a> strID   = <span class="stringliteral">"PRE"</span>;
<a name="l00691"></a>00691 
<a name="l00692"></a>00692         <span class="keywordflow">if</span>( !strPath.<a class="code" href="classStringEx.html#e0a38173d0b2b402a9cda6cbc362576f">endWith</a>( <span class="stringliteral">"/"</span> ) &amp;&amp; !strPath.<a class="code" href="classStringEx.html#e0a38173d0b2b402a9cda6cbc362576f">endWith</a>( <span class="stringliteral">"\\"</span> ) ) strPath += <span class="stringliteral">"/"</span>;
<a name="l00693"></a>00693 
<a name="l00694"></a>00694         strPath += pName;
<a name="l00695"></a>00695 
<a name="l00696"></a>00696         <span class="keywordflow">if</span>( !<a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#8dfd668709a4befbed549225a8a8bd89">isCreated</a>() )
<a name="l00697"></a>00697         {
<a name="l00698"></a>00698                 <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#f8b50a62c397ba902f8c07d559a9435b">create</a>( <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a> ) &lt; 0 )
<a name="l00699"></a>00699                 {
<a name="l00700"></a>00700                         cerr &lt;&lt; <span class="stringliteral">"Can't create preanalysis trie. So dictonaries are not created..."</span> &lt;&lt; endl;
<a name="l00701"></a>00701 
<a name="l00702"></a>00702                         <span class="keywordflow">return</span> 0;
<a name="l00703"></a>00703                 }
<a name="l00704"></a>00704         }
<a name="l00705"></a>00705 
<a name="l00706"></a>00706         ifstream fin( strPath.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>() );
<a name="l00707"></a>00707 
<a name="l00708"></a>00708         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> -1;
<a name="l00709"></a>00709 
<a name="l00710"></a>00710         <a class="code" href="classText.html">Text</a> strBuffer ( <a class="code" href="Dictionary_8h.html#7098e2771ce52be8535854a107e89643">SIZE4096</a> );
<a name="l00711"></a>00711         <a class="code" href="classText.html">Text</a> strText   ( <a class="code" href="Dictionary_8h.html#7098e2771ce52be8535854a107e89643">SIZE4096</a> );
<a name="l00712"></a>00712         <a class="code" href="classText.html">Text</a> strSubText( <a class="code" href="Dictionary_8h.html#7098e2771ce52be8535854a107e89643">SIZE4096</a> );
<a name="l00713"></a>00713         <a class="code" href="classStringEx.html">StringEx</a> strex ( <a class="code" href="Dictionary_8h.html#7098e2771ce52be8535854a107e89643">SIZE4096</a> );
<a name="l00714"></a>00714 
<a name="l00715"></a>00715 <span class="comment">//      int cntDot = 0;</span>
<a name="l00716"></a>00716         <a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html">WK_DaTrie_Node</a> trieNode;
<a name="l00717"></a>00717 
<a name="l00718"></a>00718         <span class="keywordflow">if</span>( !<a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#8dfd668709a4befbed549225a8a8bd89">isCreated</a>() )
<a name="l00719"></a>00719         {
<a name="l00720"></a>00720                 <a class="code" href="classkmaOrange_1_1Dictionary.html#ed6bcde127ce4b739ab810bdd939ffca" title="a character buffer of the pre-analysis dictionary.">_preanalBuffer</a>.push_back(<span class="charliteral">' '</span>);
<a name="l00721"></a>00721         }
<a name="l00722"></a>00722 
<a name="l00723"></a>00723         <span class="keywordflow">while</span>( !fin.eof() )
<a name="l00724"></a>00724         {
<a name="l00725"></a>00725                 getline( fin, strBuffer );
<a name="l00726"></a>00726                 strBuffer.<a class="code" href="classStringEx.html#ca9136e18b9f519ab85b04181d11ddd3">trimRight</a>();
<a name="l00727"></a>00727 
<a name="l00728"></a>00728                 <span class="comment">//if( strBuffer.startWith(";") || strBuffer.startWith("/") || strBuffer.startWith(" ") ) continue;</span>
<a name="l00729"></a>00729                 <span class="keywordflow">if</span>( strBuffer.<a class="code" href="classStringEx.html#2f853993f378542f2ff7c15ad9c33c83">startWith</a>(<span class="stringliteral">";"</span>) || strBuffer.<a class="code" href="classStringEx.html#2f853993f378542f2ff7c15ad9c33c83">startWith</a>(<span class="stringliteral">"/"</span>) || strBuffer.<a class="code" href="classStringEx.html#2f853993f378542f2ff7c15ad9c33c83">startWith</a>(<span class="stringliteral">" "</span>)
<a name="l00730"></a>00730                         || strBuffer.<a class="code" href="classStringEx.html#2f853993f378542f2ff7c15ad9c33c83">startWith</a>(<span class="stringliteral">"\n"</span>) || strBuffer.<a class="code" href="classStringEx.html#2f853993f378542f2ff7c15ad9c33c83">startWith</a>(<span class="stringliteral">"\r"</span>) ) <span class="keywordflow">continue</span>;
<a name="l00731"></a>00731 
<a name="l00732"></a>00732                 <span class="keywordtype">size_t</span> posStore = <a class="code" href="classkmaOrange_1_1Dictionary.html#ed6bcde127ce4b739ab810bdd939ffca" title="a character buffer of the pre-analysis dictionary.">_preanalBuffer</a>.size();
<a name="l00733"></a>00733 
<a name="l00734"></a>00734                 <span class="keywordtype">int</span> pos;
<a name="l00735"></a>00735                 <span class="keywordflow">if</span>( (pos = strBuffer.<a class="code" href="classStringEx.html#a948cbadc89b04c5a794efa85409b6c8">getIndex</a>( <span class="stringliteral">"\t"</span> )) &gt; 0 )
<a name="l00736"></a>00736                 {
<a name="l00737"></a>00737                         strText = &amp;strBuffer[pos+1];
<a name="l00738"></a>00738 
<a name="l00739"></a>00739                         strText.<a class="code" href="classText.html#218720737506b3278d080ba4198d0f86">divideStringsPtr</a>( <span class="stringliteral">"@"</span> );
<a name="l00740"></a>00740                         <span class="keywordtype">int</span> n = strText.<a class="code" href="classText.html#677230c4f58f15cff7b014a91492e10b">getCount</a>();
<a name="l00741"></a>00741                         <span class="keywordtype">char</span>** pstr = strText.<a class="code" href="classText.html#a5ccfe846fc0a6976000feebc3775db9">getPStr</a>();
<a name="l00742"></a>00742 
<a name="l00743"></a>00743                         strex = strBuffer.<a class="code" href="classStringEx.html#bd2c36be4fbacd796cd43ecc5ea0de57">getSubString</a>( 0, pos );
<a name="l00744"></a>00744 
<a name="l00745"></a>00745                         <a class="code" href="classkmaOrange_1_1Dictionary.html#ed6bcde127ce4b739ab810bdd939ffca" title="a character buffer of the pre-analysis dictionary.">_preanalBuffer</a>.push_back( (<span class="keywordtype">char</span>)n );                    
<a name="l00746"></a>00746 
<a name="l00747"></a>00747                         <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; n; i++ )
<a name="l00748"></a>00748                         {
<a name="l00749"></a>00749                                 strSubText = pstr[i];
<a name="l00750"></a>00750 
<a name="l00752"></a>00752                                 strSubText.<a class="code" href="classText.html#218720737506b3278d080ba4198d0f86">divideStringsPtr</a>( <span class="stringliteral">"+"</span> );
<a name="l00753"></a>00753                                 <span class="keywordtype">int</span>       nn = strSubText.<a class="code" href="classText.html#677230c4f58f15cff7b014a91492e10b">getCount</a>();
<a name="l00754"></a>00754                                 <span class="keywordtype">char</span>** pstr2 = strSubText.<a class="code" href="classText.html#a5ccfe846fc0a6976000feebc3775db9">getPStr</a>();
<a name="l00755"></a>00755 
<a name="l00756"></a>00756                                 <a class="code" href="classkmaOrange_1_1Dictionary.html#ed6bcde127ce4b739ab810bdd939ffca" title="a character buffer of the pre-analysis dictionary.">_preanalBuffer</a>.push_back( (<span class="keywordtype">char</span>)nn );
<a name="l00757"></a>00757 
<a name="l00758"></a>00758                                 <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; nn; j++ )
<a name="l00759"></a>00759                                 {
<a name="l00760"></a>00760                                         <span class="keywordtype">char</span>* ppos = strchr( pstr2[j], <span class="charliteral">'/'</span> );
<a name="l00761"></a>00761                                 
<a name="l00762"></a>00762                                         <span class="keywordflow">if</span>( ppos == 0 )
<a name="l00763"></a>00763                                         {
<a name="l00764"></a>00764                                                 cerr &lt;&lt; <span class="stringliteral">"Error in "</span> &lt;&lt; strBuffer &lt;&lt; <span class="stringliteral">" Line..."</span> &lt;&lt; endl;
<a name="l00765"></a>00765                                                 <span class="keywordflow">continue</span>;
<a name="l00766"></a>00766                                         }
<a name="l00767"></a>00767 
<a name="l00768"></a>00768                                         *ppos = <span class="charliteral">'\0'</span>;
<a name="l00769"></a>00769 
<a name="l00770"></a>00770                                         <span class="keywordflow">for</span>( <span class="keywordtype">char</span>* pp = pstr2[j]; *(pp) != <span class="charliteral">'\0'</span>; pp++ )
<a name="l00771"></a>00771                                         {
<a name="l00772"></a>00772                                                 <a class="code" href="classkmaOrange_1_1Dictionary.html#ed6bcde127ce4b739ab810bdd939ffca" title="a character buffer of the pre-analysis dictionary.">_preanalBuffer</a>.push_back( *pp );
<a name="l00773"></a>00773                                         }
<a name="l00774"></a>00774 
<a name="l00775"></a>00775                                         <a class="code" href="classkmaOrange_1_1Dictionary.html#ed6bcde127ce4b739ab810bdd939ffca" title="a character buffer of the pre-analysis dictionary.">_preanalBuffer</a>.push_back( <span class="charliteral">'\0'</span> );
<a name="l00776"></a>00776                                         <a class="code" href="classkmaOrange_1_1Dictionary.html#ed6bcde127ce4b739ab810bdd939ffca" title="a character buffer of the pre-analysis dictionary.">_preanalBuffer</a>.push_back( <a class="code" href="classkmaOrange_1_1TagSet.html#9e1b857c9730694ee2a9c56402ba73d6">TagSet::getIndexTagString</a>( ppos + 1 ) );
<a name="l00777"></a>00777                                 }       
<a name="l00778"></a>00778                         }
<a name="l00779"></a>00779 
<a name="l00780"></a>00780                         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#9481717e899b14ef84195b178aa137bf">insertKey</a>( strex.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>(), trieNode ) )
<a name="l00781"></a>00781                         {
<a name="l00782"></a>00782                                 <span class="keywordflow">if</span>( trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#d1035d188f70a5f3911aa553c48c07e4">getData</a>() &gt; 0 )
<a name="l00783"></a>00783                                 {
<a name="l00784"></a>00784                                         <span class="keywordflow">if</span>( isOverWriting ) trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#e2cd732b26b4423dfe36ea4513032924">setData</a>( (<span class="keywordtype">int</span>)posStore );
<a name="l00785"></a>00785                                 }
<a name="l00786"></a>00786                                 <span class="keywordflow">else</span>
<a name="l00787"></a>00787                                 {
<a name="l00788"></a>00788                                         trieNode.<a class="code" href="classkmaOrange_1_1WK__DaTrie__Node.html#e2cd732b26b4423dfe36ea4513032924">setData</a>( (<span class="keywordtype">int</span>)posStore );
<a name="l00789"></a>00789                                 }
<a name="l00790"></a>00790                         }
<a name="l00791"></a>00791                         <span class="keywordflow">else</span>
<a name="l00792"></a>00792                         {
<a name="l00793"></a>00793                                 cerr &lt;&lt; <span class="stringliteral">"Error in reading "</span> &lt;&lt; strID &lt;&lt; <span class="stringliteral">" dic.."</span> &lt;&lt; strex &lt;&lt; endl;
<a name="l00794"></a>00794                         }
<a name="l00795"></a>00795                 }
<a name="l00796"></a>00796 
<a name="l00797"></a>00797 <span class="comment">//              if( (cntDot++ % 100) == 0 ) cout &lt;&lt; ".";</span>
<a name="l00798"></a>00798         }
<a name="l00799"></a>00799 
<a name="l00800"></a>00800 <span class="comment">//      cout &lt;&lt; endl;</span>
<a name="l00801"></a>00801         fin.close();
<a name="l00802"></a>00802         <span class="keywordflow">return</span> 1;
<a name="l00803"></a>00803 }
<a name="l00804"></a>00804 
<a name="l00805"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#55b07fdaf668789b26249850126391d7">00805</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#55b07fdaf668789b26249850126391d7" title="This function loads contents of the binary system dictionary file.">Dictionary::loadKnowledgeFromFile</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *pPath )
<a name="l00806"></a>00806 {
<a name="l00807"></a>00807         <a class="code" href="classStringEx.html">StringEx</a> strID   = <span class="stringliteral">"KLG"</span>;
<a name="l00808"></a>00808 
<a name="l00809"></a>00809         ifstream fin( pPath, ios_base::in | ios_base::binary );
<a name="l00810"></a>00810 
<a name="l00811"></a>00811         <span class="keywordflow">if</span>( fin.fail() )
<a name="l00812"></a>00812     {
<a name="l00813"></a>00813 <span class="comment">//      cerr &lt;&lt; "Can't open " &lt;&lt; pPath &lt;&lt; " file." &lt;&lt; endl;</span>
<a name="l00814"></a>00814         <span class="keywordflow">return</span> -1;
<a name="l00815"></a>00815     }
<a name="l00816"></a>00816 
<a name="l00817"></a>00817         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#24fb974af5fd5c4f9b471b2b633d78c8" title="This function reads the copyright in the binary system dictionary file.">readCopyright</a>   ( fin ) &lt;= 0 ) <span class="keywordflow">return</span> 0;
<a name="l00818"></a>00818         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#f821ce9abfd00218d4f2092d3b0dc710" title="This function reads the information of the system version in the binary system dictionary...">readOrange</a>          ( fin ) &lt;= 0 ) <span class="keywordflow">return</span> 0;
<a name="l00819"></a>00819         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#72117f9ee66237abee6a4e1cbe607a51" title="This function reads the _mainTrie in the binary system dictionary file.">readMainTrie</a>    ( fin ) &lt;= 0 ) <span class="keywordflow">return</span> 0;
<a name="l00820"></a>00820         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#2c33512975c472072bbf92eaac0d76f7" title="This function reads the _josaEomiTrie in the binary system dictionary file.">readJosaEomiTrie</a>( fin ) &lt;= 0 ) <span class="keywordflow">return</span> 0;
<a name="l00821"></a>00821 
<a name="l00822"></a>00822         <a class="code" href="classkmaOrange_1_1Dictionary.html#899b2e257d771091749463afe6dbeab5" title="This function sets onset endings( &amp;#39;ï¿½ï¿½&amp;#39;, &amp;#39;ï¿½ï¿½&amp;#39;, &amp;#39;ï¿½ï¿½&amp;#39;...">setOnsetEomi</a>();
<a name="l00823"></a>00823 
<a name="l00824"></a>00824         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#61dd5200de96564edbc8c3506cec743e" title="This function reads the _divTrie and _posTrie in the binary system dictionary file...">readDivPosTrie</a>              ( fin ) &lt;= 0 ) <span class="keywordflow">return</span> 0;
<a name="l00825"></a>00825         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#f4ca7d3733a754e37e41559b64e424da" title="This function reads the _preanalTrie in the binary system dictionary file.">readPreAnalysisTrie</a> ( fin ) &lt;= 0 ) <span class="keywordflow">return</span> 0;
<a name="l00826"></a>00826 
<a name="l00827"></a>00827 
<a name="l00828"></a>00828         fin.close();
<a name="l00829"></a>00829 
<a name="l00830"></a>00830         <span class="keywordflow">return</span> 1;
<a name="l00831"></a>00831 }
<a name="l00832"></a>00832 
<a name="l00833"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#24fb974af5fd5c4f9b471b2b633d78c8">00833</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#24fb974af5fd5c4f9b471b2b633d78c8" title="This function reads the copyright in the binary system dictionary file.">Dictionary::readCopyright</a>( istream&amp; fin )
<a name="l00834"></a>00834 {
<a name="l00835"></a>00835         <span class="keywordtype">char</span> pCopyrightString[ <span class="keyword">sizeof</span>(<a class="code" href="namespacekmaOrange.html#e637169c5121cccbf64b380a74691660">COPYRIGHT_STRING</a>) ];
<a name="l00836"></a>00836         fin.read( pCopyrightString, <span class="keyword">sizeof</span>(<a class="code" href="namespacekmaOrange.html#e637169c5121cccbf64b380a74691660">COPYRIGHT_STRING</a>) );
<a name="l00837"></a>00837 
<a name="l00838"></a>00838         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00839"></a>00839 
<a name="l00840"></a>00840         <span class="keywordflow">return</span> 1;
<a name="l00841"></a>00841 }
<a name="l00842"></a>00842 
<a name="l00843"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#f821ce9abfd00218d4f2092d3b0dc710">00843</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#f821ce9abfd00218d4f2092d3b0dc710" title="This function reads the information of the system version in the binary system dictionary...">Dictionary::readOrange</a>( istream&amp; fin )
<a name="l00844"></a>00844 {
<a name="l00845"></a>00845         <span class="keywordtype">char</span> pOrangeString[ <span class="keyword">sizeof</span>(<a class="code" href="namespacekmaOrange.html#cef08b622a58aea82551e96b4d1dec5c">ORANGE_STRING</a>) ];
<a name="l00846"></a>00846         fin.read( pOrangeString, <span class="keyword">sizeof</span>(<a class="code" href="namespacekmaOrange.html#cef08b622a58aea82551e96b4d1dec5c">ORANGE_STRING</a>) );
<a name="l00847"></a>00847         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00848"></a>00848 
<a name="l00849"></a>00849         <span class="keywordflow">if</span>( strcmp( pOrangeString, <a class="code" href="namespacekmaOrange.html#cef08b622a58aea82551e96b4d1dec5c">ORANGE_STRING</a> ) != 0 )
<a name="l00850"></a>00850         {
<a name="l00851"></a>00851                 cerr &lt;&lt; <span class="stringliteral">"Knowledge file is not suitable for Orange."</span> &lt;&lt; endl;
<a name="l00852"></a>00852                 <span class="keywordflow">return</span> 0;
<a name="l00853"></a>00853         }
<a name="l00854"></a>00854 
<a name="l00855"></a>00855         <span class="keywordflow">return</span> 1;
<a name="l00856"></a>00856 }
<a name="l00857"></a>00857 
<a name="l00858"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#72117f9ee66237abee6a4e1cbe607a51">00858</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#72117f9ee66237abee6a4e1cbe607a51" title="This function reads the _mainTrie in the binary system dictionary file.">Dictionary::readMainTrie</a> ( istream&amp; fin )
<a name="l00859"></a>00859 {
<a name="l00860"></a>00860         <span class="keywordtype">int</span> bcPos, tailPos, bcEmptyStart, bcEmptyEnd;
<a name="l00861"></a>00861 
<a name="l00862"></a>00862         fin.read( (<span class="keywordtype">char</span>*)&amp;bcPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l00863"></a>00863         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00864"></a>00864 
<a name="l00865"></a>00865         fin.read( (<span class="keywordtype">char</span>*)&amp;tailPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l00866"></a>00866         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00867"></a>00867 
<a name="l00868"></a>00868         fin.read( (<span class="keywordtype">char</span>*)&amp;bcEmptyStart, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l00869"></a>00869         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00870"></a>00870 
<a name="l00871"></a>00871         fin.read( (<span class="keywordtype">char</span>*)&amp;bcEmptyEnd, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l00872"></a>00872         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00873"></a>00873 
<a name="l00874"></a>00874         <span class="keywordflow">if</span> (<a class="code" href="classkmaOrange_1_1Dictionary.html#52eb564f4339216c94d197ca3cadb7e7" title="a WK_DaTrie object of lexical morphemes.">_mainTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#f8b50a62c397ba902f8c07d559a9435b">create</a>(bcPos, tailPos,
<a name="l00875"></a>00875                         <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>) &lt; 0) <span class="keywordflow">return</span> 0;
<a name="l00876"></a>00876 
<a name="l00877"></a>00877         <span class="keywordflow">if</span>( (bcPos &gt; 1) 
<a name="l00878"></a>00878                         &amp;&amp; fin.read((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#52eb564f4339216c94d197ca3cadb7e7" title="a WK_DaTrie object of lexical morphemes.">_mainTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#bde541a15af9eb87a19e77a1cf7cfff4">getBaseCheckArray</a>(), <span class="keyword">sizeof</span>(<a class="code" href="classkmaOrange_1_1WK__DaTrie__BaseCheck.html">WK_DaTrie_BaseCheck</a>)*bcPos) )
<a name="l00879"></a>00879         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00880"></a>00880 
<a name="l00881"></a>00881         <span class="keywordflow">if</span>( (tailPos &gt; 1) 
<a name="l00882"></a>00882                         &amp;&amp; fin.read((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#52eb564f4339216c94d197ca3cadb7e7" title="a WK_DaTrie object of lexical morphemes.">_mainTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#d0bd9785aed0cfa5a57f1acb8ceaaab1">getTailBuffer</a>(), <span class="keyword">sizeof</span>(char)*tailPos) )
<a name="l00883"></a>00883         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00884"></a>00884 
<a name="l00885"></a>00885         <a class="code" href="classkmaOrange_1_1Dictionary.html#52eb564f4339216c94d197ca3cadb7e7" title="a WK_DaTrie object of lexical morphemes.">_mainTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#71281285c6619f4d4cae35c5d946e0ca">setBcPos</a>(bcPos-1);
<a name="l00886"></a>00886         <a class="code" href="classkmaOrange_1_1Dictionary.html#52eb564f4339216c94d197ca3cadb7e7" title="a WK_DaTrie object of lexical morphemes.">_mainTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#bcc6b5c4e73a9720e527207f295970f3">setTailPos</a>(tailPos-1);
<a name="l00887"></a>00887         <a class="code" href="classkmaOrange_1_1Dictionary.html#52eb564f4339216c94d197ca3cadb7e7" title="a WK_DaTrie object of lexical morphemes.">_mainTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#cd996ae8c95d27195a1cd8c1ce80e9e5">setBcEmptyStart</a>(bcEmptyStart);
<a name="l00888"></a>00888         <a class="code" href="classkmaOrange_1_1Dictionary.html#52eb564f4339216c94d197ca3cadb7e7" title="a WK_DaTrie object of lexical morphemes.">_mainTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#034eb62f286852f141d1a9e8e2133fd8">setBcEmptyEnd</a>(bcEmptyEnd);
<a name="l00889"></a>00889 
<a name="l00890"></a>00890         <span class="keywordtype">int</span> sizeMainInfoPool;
<a name="l00891"></a>00891 
<a name="l00892"></a>00892         fin.read( (<span class="keywordtype">char</span>*)&amp;sizeMainInfoPool, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l00893"></a>00893         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00894"></a>00894 
<a name="l00895"></a>00895         <a class="code" href="classMainTrieInfo.html" title="a class has additional information of the main trie( including NNG, NNB, NNP, NP...">MainTrieInfo</a> mti;
<a name="l00896"></a>00896         <span class="keywordtype">int</span> i;
<a name="l00897"></a>00897         <span class="keywordflow">for</span>( i = 0; i &lt; sizeMainInfoPool; i++ )
<a name="l00898"></a>00898         {
<a name="l00899"></a>00899                 fin.read( (<span class="keywordtype">char</span>*)&amp;mti, <span class="keyword">sizeof</span>(<a class="code" href="classMainTrieInfo.html" title="a class has additional information of the main trie( including NNG, NNB, NNP, NP...">MainTrieInfo</a>) );
<a name="l00900"></a>00900                 <span class="keywordflow">if</span>( fin.fail() )
<a name="l00901"></a>00901                 {
<a name="l00902"></a>00902                         cerr &lt;&lt; <span class="stringliteral">"during main Trie writing, file error occurred."</span> &lt;&lt; endl;
<a name="l00903"></a>00903                         <span class="keywordflow">return</span> 0;
<a name="l00904"></a>00904                 }
<a name="l00905"></a>00905 
<a name="l00906"></a>00906                 <a class="code" href="classkmaOrange_1_1Dictionary.html#8b4809c5e4427e0a886ebb98ccb1458e" title="the information list of lexical morphemes.">_mainInfoPoolList</a>.<a class="code" href="classListEx.html#14006a0f7481d9849d1c77950e8a0b2a">addTuple</a>( mti );
<a name="l00907"></a>00907         }
<a name="l00908"></a>00908 
<a name="l00909"></a>00909         <span class="keywordtype">int</span> sizeMainBuffer;
<a name="l00910"></a>00910 
<a name="l00911"></a>00911         fin.read( (<span class="keywordtype">char</span>*)&amp;sizeMainBuffer, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l00912"></a>00912         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00913"></a>00913 
<a name="l00914"></a>00914         <a class="code" href="classkmaOrange_1_1Dictionary.html#6d1c4742b3526ce18ef708b16afb9686" title="temporary buffer of lexical morphemes.">_mainBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#4afbe5aa986d4f15d9ae93358a716e62" title="This function sets the size of the buffer.">reserveBuffer</a>( sizeMainBuffer + 1 );
<a name="l00915"></a>00915         <a class="code" href="classkmaOrange_1_1Dictionary.html#6d1c4742b3526ce18ef708b16afb9686" title="temporary buffer of lexical morphemes.">_mainBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#22aa8b5ca6b4a4135762883479bc7d16" title="This function sets the current position of the buffer.">setPosBuffer</a>( sizeMainBuffer );
<a name="l00916"></a>00916 
<a name="l00917"></a>00917         fin.read( (<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#6d1c4742b3526ce18ef708b16afb9686" title="temporary buffer of lexical morphemes.">_mainBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#05b1cadf0bc0a1ec4c5bb03fc02654bf" title="This function gets the starting pointer of the buffer.">getBufferPtr</a>(), <span class="keyword">sizeof</span>(char) * sizeMainBuffer );
<a name="l00918"></a>00918         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00919"></a>00919 
<a name="l00920"></a>00920         <span class="keywordflow">return</span> 1;
<a name="l00921"></a>00921 }
<a name="l00922"></a>00922 
<a name="l00923"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#2c33512975c472072bbf92eaac0d76f7">00923</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#2c33512975c472072bbf92eaac0d76f7" title="This function reads the _josaEomiTrie in the binary system dictionary file.">Dictionary::readJosaEomiTrie</a> ( istream&amp; fin )
<a name="l00924"></a>00924 {
<a name="l00925"></a>00925         <span class="keywordtype">int</span> bcPos, tailPos, bcEmptyStart, bcEmptyEnd;
<a name="l00926"></a>00926 
<a name="l00927"></a>00927         fin.read( (<span class="keywordtype">char</span>*)&amp;bcPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l00928"></a>00928         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00929"></a>00929 
<a name="l00930"></a>00930         fin.read( (<span class="keywordtype">char</span>*)&amp;tailPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l00931"></a>00931         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00932"></a>00932 
<a name="l00933"></a>00933         fin.read( (<span class="keywordtype">char</span>*)&amp;bcEmptyStart, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l00934"></a>00934         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00935"></a>00935 
<a name="l00936"></a>00936         fin.read( (<span class="keywordtype">char</span>*)&amp;bcEmptyEnd, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l00937"></a>00937         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00938"></a>00938 
<a name="l00939"></a>00939         <span class="keywordflow">if</span> (<a class="code" href="classkmaOrange_1_1Dictionary.html#580a2bff4df42be6211a7695c77c3a41" title="a WK_DaTrie object of grammatical morphemes.">_josaEomiTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#f8b50a62c397ba902f8c07d559a9435b">create</a>(bcPos, tailPos,
<a name="l00940"></a>00940                         <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>) &lt; 0) <span class="keywordflow">return</span> -0;
<a name="l00941"></a>00941 
<a name="l00942"></a>00942         <span class="keywordflow">if</span>( (bcPos &gt; 1) 
<a name="l00943"></a>00943                         &amp;&amp; fin.read((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#580a2bff4df42be6211a7695c77c3a41" title="a WK_DaTrie object of grammatical morphemes.">_josaEomiTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#bde541a15af9eb87a19e77a1cf7cfff4">getBaseCheckArray</a>(), <span class="keyword">sizeof</span>(<a class="code" href="classkmaOrange_1_1WK__DaTrie__BaseCheck.html">WK_DaTrie_BaseCheck</a>)*bcPos) )
<a name="l00944"></a>00944         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00945"></a>00945 
<a name="l00946"></a>00946         <span class="keywordflow">if</span>( (tailPos &gt; 1) 
<a name="l00947"></a>00947                         &amp;&amp; fin.read((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#580a2bff4df42be6211a7695c77c3a41" title="a WK_DaTrie object of grammatical morphemes.">_josaEomiTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#d0bd9785aed0cfa5a57f1acb8ceaaab1">getTailBuffer</a>(), <span class="keyword">sizeof</span>(char)*tailPos) )
<a name="l00948"></a>00948         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00949"></a>00949 
<a name="l00950"></a>00950         <a class="code" href="classkmaOrange_1_1Dictionary.html#580a2bff4df42be6211a7695c77c3a41" title="a WK_DaTrie object of grammatical morphemes.">_josaEomiTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#71281285c6619f4d4cae35c5d946e0ca">setBcPos</a>(bcPos-1);
<a name="l00951"></a>00951         <a class="code" href="classkmaOrange_1_1Dictionary.html#580a2bff4df42be6211a7695c77c3a41" title="a WK_DaTrie object of grammatical morphemes.">_josaEomiTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#bcc6b5c4e73a9720e527207f295970f3">setTailPos</a>(tailPos-1);
<a name="l00952"></a>00952         <a class="code" href="classkmaOrange_1_1Dictionary.html#580a2bff4df42be6211a7695c77c3a41" title="a WK_DaTrie object of grammatical morphemes.">_josaEomiTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#cd996ae8c95d27195a1cd8c1ce80e9e5">setBcEmptyStart</a>(bcEmptyStart);
<a name="l00953"></a>00953         <a class="code" href="classkmaOrange_1_1Dictionary.html#580a2bff4df42be6211a7695c77c3a41" title="a WK_DaTrie object of grammatical morphemes.">_josaEomiTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#034eb62f286852f141d1a9e8e2133fd8">setBcEmptyEnd</a>(bcEmptyEnd);
<a name="l00954"></a>00954 
<a name="l00955"></a>00955         <span class="keywordtype">int</span> sizeJosaEomiInfoPool;
<a name="l00956"></a>00956 
<a name="l00957"></a>00957         fin.read( (<span class="keywordtype">char</span>*)&amp;sizeJosaEomiInfoPool, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l00958"></a>00958         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00959"></a>00959 
<a name="l00960"></a>00960         <a class="code" href="classJosaEomiTrieInfo.html" title="a class has information for making grammatical morphemes( postpositions or endings...">JosaEomiTrieInfo</a> jeti;
<a name="l00961"></a>00961 
<a name="l00962"></a>00962         <span class="keywordtype">int</span> i;
<a name="l00963"></a>00963         <span class="keywordflow">for</span>( i = 0; i &lt; sizeJosaEomiInfoPool; i++ )
<a name="l00964"></a>00964         {
<a name="l00965"></a>00965                 fin.read( (<span class="keywordtype">char</span>*)&amp;jeti, <span class="keyword">sizeof</span>(<a class="code" href="classJosaEomiTrieInfo.html" title="a class has information for making grammatical morphemes( postpositions or endings...">JosaEomiTrieInfo</a>) );
<a name="l00966"></a>00966                 <span class="keywordflow">if</span>( fin.fail() )
<a name="l00967"></a>00967                 {
<a name="l00968"></a>00968                         cerr &lt;&lt; <span class="stringliteral">"during main Trie reading, file error occurred."</span> &lt;&lt; endl;
<a name="l00969"></a>00969                         <span class="keywordflow">return</span> 0;
<a name="l00970"></a>00970                 }
<a name="l00971"></a>00971 
<a name="l00972"></a>00972                 <a class="code" href="classkmaOrange_1_1Dictionary.html#b9784b60c4c70b298bca88ab0857075b" title="the information list of grammatical morphemes.">_josaEomiInfoPoolList</a>.<a class="code" href="classListEx.html#14006a0f7481d9849d1c77950e8a0b2a">addTuple</a>( jeti );
<a name="l00973"></a>00973         }
<a name="l00974"></a>00974 
<a name="l00975"></a>00975         <span class="keywordtype">int</span> sizeJEBuffer;
<a name="l00976"></a>00976 
<a name="l00977"></a>00977         fin.read( (<span class="keywordtype">char</span>*)&amp;sizeJEBuffer, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l00978"></a>00978         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00979"></a>00979 
<a name="l00980"></a>00980         <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#4afbe5aa986d4f15d9ae93358a716e62" title="This function sets the size of the buffer.">reserveBuffer</a>( sizeJEBuffer + 1 );
<a name="l00981"></a>00981         <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#22aa8b5ca6b4a4135762883479bc7d16" title="This function sets the current position of the buffer.">setPosBuffer</a>( sizeJEBuffer );
<a name="l00982"></a>00982 
<a name="l00983"></a>00983         fin.read( (<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#05b1cadf0bc0a1ec4c5bb03fc02654bf" title="This function gets the starting pointer of the buffer.">getBufferPtr</a>(), <span class="keyword">sizeof</span>(char) * sizeJEBuffer );
<a name="l00984"></a>00984         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00985"></a>00985 
<a name="l00986"></a>00986         <span class="keywordtype">int</span> sizeJEInfo;
<a name="l00987"></a>00987 
<a name="l00988"></a>00988         fin.read( (<span class="keywordtype">char</span>*)&amp;sizeJEInfo, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l00989"></a>00989         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l00990"></a>00990 
<a name="l00991"></a>00991         <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#481e90a2667cfc2948edab85edea8f39" title="This function sets the size of the buffer.">reserve</a>( sizeJEInfo + 1 );
<a name="l00992"></a>00992         <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#0992fe0c2cab27f8e5055112cdcb163c" title="This function sets the current position of the buffer.">setPos</a>( sizeJEInfo );
<a name="l00993"></a>00993 
<a name="l00994"></a>00994         fin.read( (<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#636ee5050c0533db99ca8632c311389c" title="This function gets the starting pointer of the list of starting positions.">getIndexesPtr</a>(), <span class="keyword">sizeof</span>(int) * sizeJEInfo );
<a name="l00995"></a>00995         fin.read( (<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#895da3d5f392bd96761102d707ac54f4" title="This function gets the starting pointer of the list of POS tags.">getTagsPtr</a>(), <span class="keyword">sizeof</span>(int)    * sizeJEInfo );
<a name="l00996"></a>00996         fin.read( (<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#80d5bebfcc288edc6543e2d89c6e65a0" title="This function gets the starting pointer of the list of information codes.">getInfosPtr</a>(), <span class="keyword">sizeof</span>(<span class="keywordtype">short</span> int) * sizeJEInfo );
<a name="l00997"></a>00997         fin.read( (<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#f7132e64eb9c4392442b8b34112ec88a" title="This function gets the starting pointer of the list of codas.">getCodasPtr</a>(), <span class="keyword">sizeof</span>(char)  * sizeJEInfo );
<a name="l00998"></a>00998 
<a name="l00999"></a>00999         <span class="keywordflow">return</span> 1;
<a name="l01000"></a>01000 }
<a name="l01001"></a>01001 
<a name="l01002"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#61dd5200de96564edbc8c3506cec743e">01002</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#61dd5200de96564edbc8c3506cec743e" title="This function reads the _divTrie and _posTrie in the binary system dictionary file...">Dictionary::readDivPosTrie</a> ( istream&amp; fin )
<a name="l01003"></a>01003 {
<a name="l01004"></a>01004         <span class="keywordtype">int</span> bcPos, tailPos, bcEmptyStart, bcEmptyEnd;
<a name="l01005"></a>01005 
<a name="l01006"></a>01006         fin.read( (<span class="keywordtype">char</span>*)&amp;bcPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01007"></a>01007         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01008"></a>01008 
<a name="l01009"></a>01009         fin.read( (<span class="keywordtype">char</span>*)&amp;tailPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01010"></a>01010         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01011"></a>01011 
<a name="l01012"></a>01012         fin.read( (<span class="keywordtype">char</span>*)&amp;bcEmptyStart, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01013"></a>01013         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01014"></a>01014 
<a name="l01015"></a>01015         fin.read( (<span class="keywordtype">char</span>*)&amp;bcEmptyEnd, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01016"></a>01016         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01017"></a>01017 
<a name="l01018"></a>01018         <span class="keywordflow">if</span>(<a class="code" href="classkmaOrange_1_1Dictionary.html#44cf3309fd7c7bbefa394ac6bc78fe56" title="a WK_DaTrie object of the division information for decomposing a compound noun.">_divTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#f8b50a62c397ba902f8c07d559a9435b">create</a>(bcPos, tailPos,
<a name="l01019"></a>01019                         <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>) &lt; 0) <span class="keywordflow">return</span> 0;
<a name="l01020"></a>01020 
<a name="l01021"></a>01021         <span class="keywordflow">if</span>( (bcPos &gt; 1) 
<a name="l01022"></a>01022                         &amp;&amp; fin.read((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#44cf3309fd7c7bbefa394ac6bc78fe56" title="a WK_DaTrie object of the division information for decomposing a compound noun.">_divTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#bde541a15af9eb87a19e77a1cf7cfff4">getBaseCheckArray</a>(), <span class="keyword">sizeof</span>(<a class="code" href="classkmaOrange_1_1WK__DaTrie__BaseCheck.html">WK_DaTrie_BaseCheck</a>)*bcPos) )
<a name="l01023"></a>01023         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01024"></a>01024 
<a name="l01025"></a>01025         <span class="keywordflow">if</span>( (tailPos &gt; 1) 
<a name="l01026"></a>01026                         &amp;&amp; fin.read((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#44cf3309fd7c7bbefa394ac6bc78fe56" title="a WK_DaTrie object of the division information for decomposing a compound noun.">_divTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#d0bd9785aed0cfa5a57f1acb8ceaaab1">getTailBuffer</a>(), <span class="keyword">sizeof</span>(char)*tailPos) )
<a name="l01027"></a>01027         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01028"></a>01028 
<a name="l01029"></a>01029         <a class="code" href="classkmaOrange_1_1Dictionary.html#44cf3309fd7c7bbefa394ac6bc78fe56" title="a WK_DaTrie object of the division information for decomposing a compound noun.">_divTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#71281285c6619f4d4cae35c5d946e0ca">setBcPos</a>(bcPos-1);
<a name="l01030"></a>01030         <a class="code" href="classkmaOrange_1_1Dictionary.html#44cf3309fd7c7bbefa394ac6bc78fe56" title="a WK_DaTrie object of the division information for decomposing a compound noun.">_divTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#bcc6b5c4e73a9720e527207f295970f3">setTailPos</a>(tailPos-1);
<a name="l01031"></a>01031         <a class="code" href="classkmaOrange_1_1Dictionary.html#44cf3309fd7c7bbefa394ac6bc78fe56" title="a WK_DaTrie object of the division information for decomposing a compound noun.">_divTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#cd996ae8c95d27195a1cd8c1ce80e9e5">setBcEmptyStart</a>(bcEmptyStart);
<a name="l01032"></a>01032         <a class="code" href="classkmaOrange_1_1Dictionary.html#44cf3309fd7c7bbefa394ac6bc78fe56" title="a WK_DaTrie object of the division information for decomposing a compound noun.">_divTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#034eb62f286852f141d1a9e8e2133fd8">setBcEmptyEnd</a>(bcEmptyEnd);
<a name="l01033"></a>01033 
<a name="l01034"></a>01034         <span class="keywordtype">int</span> sizeDivInfo;
<a name="l01035"></a>01035 
<a name="l01036"></a>01036         fin.read( (<span class="keywordtype">char</span>*)&amp;sizeDivInfo, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01037"></a>01037         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01038"></a>01038 
<a name="l01039"></a>01039         <a class="code" href="classkmaOrange_1_1Dictionary.html#eebf34672a311605acc6354875282b0b" title="the list of DivideInfo object.">_divideInfos</a> = <span class="keyword">new</span> <a class="code" href="classDivideInfo.html" title="a class has information to calculate scores of compound nouns.">DivideInfo</a>[ sizeDivInfo ];
<a name="l01040"></a>01040 
<a name="l01041"></a>01041         fin.read( (<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#eebf34672a311605acc6354875282b0b" title="the list of DivideInfo object.">_divideInfos</a>, <span class="keyword">sizeof</span>(<a class="code" href="classDivideInfo.html" title="a class has information to calculate scores of compound nouns.">DivideInfo</a>) * sizeDivInfo );
<a name="l01042"></a>01042         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01043"></a>01043 
<a name="l01045"></a>01045         <span class="comment">//</span>
<a name="l01047"></a>01047 <span class="comment"></span>
<a name="l01048"></a>01048         fin.read( (<span class="keywordtype">char</span>*)&amp;bcPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01049"></a>01049         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01050"></a>01050 
<a name="l01051"></a>01051         fin.read( (<span class="keywordtype">char</span>*)&amp;tailPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01052"></a>01052         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01053"></a>01053 
<a name="l01054"></a>01054         fin.read( (<span class="keywordtype">char</span>*)&amp;bcEmptyStart, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01055"></a>01055         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01056"></a>01056 
<a name="l01057"></a>01057         fin.read( (<span class="keywordtype">char</span>*)&amp;bcEmptyEnd, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01058"></a>01058         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01059"></a>01059 
<a name="l01060"></a>01060         <span class="keywordflow">if</span>(<a class="code" href="classkmaOrange_1_1Dictionary.html#c644dfcaa9eada0ee9a9356f8fb3db5a" title="a WK_DaTrie object of the position information for decomposing a compound noun.">_posTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#f8b50a62c397ba902f8c07d559a9435b">create</a>(bcPos, tailPos,
<a name="l01061"></a>01061                         <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>) &lt; 0) <span class="keywordflow">return</span> -0;
<a name="l01062"></a>01062 
<a name="l01063"></a>01063         <span class="keywordflow">if</span>( (bcPos &gt; 1) 
<a name="l01064"></a>01064                         &amp;&amp; fin.read((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#c644dfcaa9eada0ee9a9356f8fb3db5a" title="a WK_DaTrie object of the position information for decomposing a compound noun.">_posTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#bde541a15af9eb87a19e77a1cf7cfff4">getBaseCheckArray</a>(), <span class="keyword">sizeof</span>(<a class="code" href="classkmaOrange_1_1WK__DaTrie__BaseCheck.html">WK_DaTrie_BaseCheck</a>)*bcPos) )
<a name="l01065"></a>01065         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01066"></a>01066 
<a name="l01067"></a>01067         <span class="keywordflow">if</span>( (tailPos &gt; 1) 
<a name="l01068"></a>01068                         &amp;&amp; fin.read((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#c644dfcaa9eada0ee9a9356f8fb3db5a" title="a WK_DaTrie object of the position information for decomposing a compound noun.">_posTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#d0bd9785aed0cfa5a57f1acb8ceaaab1">getTailBuffer</a>(), <span class="keyword">sizeof</span>(char)*tailPos) )
<a name="l01069"></a>01069         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01070"></a>01070 
<a name="l01071"></a>01071         <a class="code" href="classkmaOrange_1_1Dictionary.html#c644dfcaa9eada0ee9a9356f8fb3db5a" title="a WK_DaTrie object of the position information for decomposing a compound noun.">_posTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#71281285c6619f4d4cae35c5d946e0ca">setBcPos</a>(bcPos-1);
<a name="l01072"></a>01072         <a class="code" href="classkmaOrange_1_1Dictionary.html#c644dfcaa9eada0ee9a9356f8fb3db5a" title="a WK_DaTrie object of the position information for decomposing a compound noun.">_posTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#bcc6b5c4e73a9720e527207f295970f3">setTailPos</a>(tailPos-1);
<a name="l01073"></a>01073         <a class="code" href="classkmaOrange_1_1Dictionary.html#c644dfcaa9eada0ee9a9356f8fb3db5a" title="a WK_DaTrie object of the position information for decomposing a compound noun.">_posTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#cd996ae8c95d27195a1cd8c1ce80e9e5">setBcEmptyStart</a>(bcEmptyStart);
<a name="l01074"></a>01074         <a class="code" href="classkmaOrange_1_1Dictionary.html#c644dfcaa9eada0ee9a9356f8fb3db5a" title="a WK_DaTrie object of the position information for decomposing a compound noun.">_posTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#034eb62f286852f141d1a9e8e2133fd8">setBcEmptyEnd</a>(bcEmptyEnd);
<a name="l01075"></a>01075 
<a name="l01076"></a>01076         <span class="keywordtype">int</span> sizePosInfo;
<a name="l01077"></a>01077 
<a name="l01078"></a>01078         fin.read( (<span class="keywordtype">char</span>*)&amp;sizePosInfo, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01079"></a>01079         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01080"></a>01080 
<a name="l01081"></a>01081         <a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a> = <span class="keyword">new</span> <a class="code" href="classPosInfo.html" title="a class has information to calculate scores of compound nouns.">PosInfo</a>[ sizePosInfo ];
<a name="l01082"></a>01082 
<a name="l01083"></a>01083         fin.read( (<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a>, <span class="keyword">sizeof</span>(<a class="code" href="classPosInfo.html" title="a class has information to calculate scores of compound nouns.">PosInfo</a>) * sizePosInfo );
<a name="l01084"></a>01084         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01085"></a>01085 
<a name="l01086"></a>01086         <span class="keywordflow">return</span> 1;
<a name="l01087"></a>01087 }
<a name="l01088"></a>01088 
<a name="l01089"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#f4ca7d3733a754e37e41559b64e424da">01089</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#f4ca7d3733a754e37e41559b64e424da" title="This function reads the _preanalTrie in the binary system dictionary file.">Dictionary::readPreAnalysisTrie</a> ( istream&amp; fin )
<a name="l01090"></a>01090 {
<a name="l01091"></a>01091         <span class="keywordtype">int</span> bcPos, tailPos, bcEmptyStart, bcEmptyEnd;
<a name="l01092"></a>01092 
<a name="l01093"></a>01093         fin.read( (<span class="keywordtype">char</span>*)&amp;bcPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01094"></a>01094         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01095"></a>01095 
<a name="l01096"></a>01096         fin.read( (<span class="keywordtype">char</span>*)&amp;tailPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01097"></a>01097         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01098"></a>01098 
<a name="l01099"></a>01099         fin.read( (<span class="keywordtype">char</span>*)&amp;bcEmptyStart, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01100"></a>01100         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01101"></a>01101 
<a name="l01102"></a>01102         fin.read( (<span class="keywordtype">char</span>*)&amp;bcEmptyEnd, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01103"></a>01103         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01104"></a>01104 
<a name="l01105"></a>01105         <span class="keywordflow">if</span> (<a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#f8b50a62c397ba902f8c07d559a9435b">create</a>(bcPos, tailPos,
<a name="l01106"></a>01106                         <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>, <a class="code" href="daTrie_8h.html#737092e964ccafca55b2687f8d650fa9">TRIE_EXTEND_SIZE</a>) &lt; 0) <span class="keywordflow">return</span> 0;
<a name="l01107"></a>01107 
<a name="l01108"></a>01108         <span class="keywordflow">if</span>( (bcPos &gt; 1) 
<a name="l01109"></a>01109                         &amp;&amp; fin.read((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#bde541a15af9eb87a19e77a1cf7cfff4">getBaseCheckArray</a>(), <span class="keyword">sizeof</span>(<a class="code" href="classkmaOrange_1_1WK__DaTrie__BaseCheck.html">WK_DaTrie_BaseCheck</a>)*bcPos) )
<a name="l01110"></a>01110         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01111"></a>01111 
<a name="l01112"></a>01112         <span class="keywordflow">if</span>( (tailPos &gt; 1) 
<a name="l01113"></a>01113                         &amp;&amp; fin.read((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#d0bd9785aed0cfa5a57f1acb8ceaaab1">getTailBuffer</a>(), <span class="keyword">sizeof</span>(char)*tailPos) )
<a name="l01114"></a>01114         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01115"></a>01115 
<a name="l01116"></a>01116         <a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#71281285c6619f4d4cae35c5d946e0ca">setBcPos</a>(bcPos-1);
<a name="l01117"></a>01117         <a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#bcc6b5c4e73a9720e527207f295970f3">setTailPos</a>(tailPos-1);
<a name="l01118"></a>01118         <a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#cd996ae8c95d27195a1cd8c1ce80e9e5">setBcEmptyStart</a>(bcEmptyStart);
<a name="l01119"></a>01119         <a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#034eb62f286852f141d1a9e8e2133fd8">setBcEmptyEnd</a>(bcEmptyEnd);
<a name="l01120"></a>01120 
<a name="l01121"></a>01121         <span class="keywordtype">int</span> sizePreAnalBuffer;
<a name="l01122"></a>01122 
<a name="l01123"></a>01123         fin.read( (<span class="keywordtype">char</span>*)&amp;sizePreAnalBuffer, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01124"></a>01124         <span class="keywordflow">if</span>( fin.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01125"></a>01125 
<a name="l01126"></a>01126         <span class="keywordtype">char</span>* tempBuffer = <span class="keyword">new</span> <span class="keywordtype">char</span>[sizePreAnalBuffer+1];
<a name="l01127"></a>01127         fin.read( (<span class="keywordtype">char</span>*)tempBuffer, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) * sizePreAnalBuffer );
<a name="l01128"></a>01128 
<a name="l01129"></a>01129         <span class="keywordtype">int</span> i;
<a name="l01130"></a>01130         <span class="keywordflow">for</span>( i = 0; i &lt; sizePreAnalBuffer; i++ )
<a name="l01131"></a>01131         {
<a name="l01132"></a>01132                 <a class="code" href="classkmaOrange_1_1Dictionary.html#ed6bcde127ce4b739ab810bdd939ffca" title="a character buffer of the pre-analysis dictionary.">_preanalBuffer</a>.push_back( tempBuffer[i] );
<a name="l01133"></a>01133         }
<a name="l01134"></a>01134 
<a name="l01135"></a>01135         <span class="keyword">delete</span> [] tempBuffer;
<a name="l01136"></a>01136 
<a name="l01137"></a>01137         <span class="keywordflow">return</span> 1;
<a name="l01138"></a>01138 }
<a name="l01139"></a>01139 
<a name="l01140"></a>01140 
<a name="l01142"></a>01142 <span class="comment">//</span>
<a name="l01143"></a>01143 <span class="comment">//              Functions for making knowledge</span>
<a name="l01144"></a>01144 <span class="comment">//</span>
<a name="l01146"></a>01146 <span class="comment"></span>
<a name="l01147"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#3f754de6a90c39753b6620f089be7b85">01147</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#3f754de6a90c39753b6620f089be7b85" title="This function makes the binary system dictionary file.">Dictionary::makeKnowledge</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* pSrcPath, <span class="keyword">const</span> <span class="keywordtype">char</span>* pTgtPath )
<a name="l01148"></a>01148 {
<a name="l01149"></a>01149 <span class="comment">//      cerr &lt;&lt; "Now, Knowledge is being created.." &lt;&lt; endl;</span>
<a name="l01150"></a>01150 
<a name="l01151"></a>01151         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#22a1dd6af0f8698ff758de165ba5b613" title="This function creates and initializes a WK_DaTrie object.  This function calls other...">loadKnowledge</a>( pSrcPath, <span class="keyword">false</span> ) &gt; 0 )
<a name="l01152"></a>01152         {
<a name="l01153"></a>01153                 <a class="code" href="classkmaOrange_1_1Dictionary.html#8a78b756e3a98be8ded1f5a38b5bd4ae" title="This function creates and initializes a WK_DaTrie object.  This function loads a...">loadPreAnalysis</a>( pSrcPath, <span class="stringliteral">"preanal.sys.dic"</span> );
<a name="l01154"></a>01154 
<a name="l01155"></a>01155                 <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#3f754de6a90c39753b6620f089be7b85" title="This function makes the binary system dictionary file.">makeKnowledge</a>( pTgtPath ) &gt; 0 ) <span class="keywordflow">return</span> 1;
<a name="l01156"></a>01156         }
<a name="l01157"></a>01157 
<a name="l01158"></a>01158         <span class="keywordflow">return</span> 0;
<a name="l01159"></a>01159 }
<a name="l01160"></a>01160 
<a name="l01161"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#50781e76950dced011623aaeb4d81500">01161</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#3f754de6a90c39753b6620f089be7b85" title="This function makes the binary system dictionary file.">Dictionary::makeKnowledge</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* pTgtPath )
<a name="l01162"></a>01162 {
<a name="l01163"></a>01163         <a class="code" href="classStringEx.html">StringEx</a> path = pTgtPath;
<a name="l01164"></a>01164         path += <span class="stringliteral">"/wko.klg"</span>;
<a name="l01165"></a>01165 
<a name="l01166"></a>01166         ofstream fout( path.<a class="code" href="classStringEx.html#2b4c36bb82f085f585dd80f014aed462">buffer</a>(), ios_base::out | ios_base::binary | ios_base::trunc );
<a name="l01167"></a>01167 
<a name="l01168"></a>01168         <span class="keywordflow">if</span>( fout.fail() )
<a name="l01169"></a>01169         {
<a name="l01170"></a>01170                 cerr &lt;&lt; <span class="stringliteral">"Fail to create Knowledge.\nCan't open "</span> &lt;&lt; path &lt;&lt; <span class="stringliteral">" file."</span> &lt;&lt; endl;
<a name="l01171"></a>01171                 <span class="keywordflow">return</span> 0;
<a name="l01172"></a>01172         }
<a name="l01173"></a>01173 
<a name="l01174"></a>01174         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#48925ba3955d2efa603e1ec42ebc98fb" title="This function writes the copyright in the binary system dictionary file.">writeCopyright</a>              ( fout ) &lt;= 0 ) <span class="keywordflow">return</span> 0;
<a name="l01175"></a>01175         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#a3b6002c7fb1df61d07f3e10842b269f" title="This function writes the information of the system version in the binary system dictionary...">writeOrange</a>                 ( fout ) &lt;= 0 ) <span class="keywordflow">return</span> 0;
<a name="l01176"></a>01176         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#220a21911afc35f3b4801afc1d589e94" title="This function writes the contents of the _mainTrie in the binary system dictionary...">writeMainTrie</a>               ( fout ) &lt;= 0 ) <span class="keywordflow">return</span> 0;
<a name="l01177"></a>01177         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#c7ea4f013545ce948c25a0fbbd221ca8" title="This function writes the contents of the _josaEomiTrie in the binary system dictionary...">writeJosaEomiTrie</a>   ( fout ) &lt;= 0 ) <span class="keywordflow">return</span> 0;
<a name="l01178"></a>01178         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#8a9ffe32003af4423dbe33f9e29d8627" title="This function writes the contents of the _divTrie and _posTrie in the binary system...">writeDivPosTrie</a>             ( fout ) &lt;= 0 ) <span class="keywordflow">return</span> 0;
<a name="l01179"></a>01179         <span class="keywordflow">if</span>( <a class="code" href="classkmaOrange_1_1Dictionary.html#0a8a9746a6199a64ed7b7b340d982aeb" title="This function writes the contents of the _preanalTrie in the binary system dictionary...">writePreAnalysisTrie</a>( fout ) &lt;= 0 ) <span class="keywordflow">return</span> 0;
<a name="l01180"></a>01180 
<a name="l01181"></a>01181         fout.close();
<a name="l01182"></a>01182 
<a name="l01183"></a>01183         <span class="keywordflow">return</span> 1;
<a name="l01184"></a>01184 }
<a name="l01185"></a>01185 
<a name="l01186"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#48925ba3955d2efa603e1ec42ebc98fb">01186</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#48925ba3955d2efa603e1ec42ebc98fb" title="This function writes the copyright in the binary system dictionary file.">Dictionary::writeCopyright</a>( ostream&amp; fout )
<a name="l01187"></a>01187 {
<a name="l01188"></a>01188         fout.write( <a class="code" href="namespacekmaOrange.html#e637169c5121cccbf64b380a74691660">COPYRIGHT_STRING</a>, <span class="keyword">sizeof</span>(<a class="code" href="namespacekmaOrange.html#e637169c5121cccbf64b380a74691660">COPYRIGHT_STRING</a>) );
<a name="l01189"></a>01189         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01190"></a>01190 
<a name="l01191"></a>01191         <span class="keywordflow">return</span> 1;
<a name="l01192"></a>01192 }
<a name="l01193"></a>01193 
<a name="l01194"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#a3b6002c7fb1df61d07f3e10842b269f">01194</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#a3b6002c7fb1df61d07f3e10842b269f" title="This function writes the information of the system version in the binary system dictionary...">Dictionary::writeOrange</a>( ostream&amp; fout )
<a name="l01195"></a>01195 {
<a name="l01196"></a>01196         fout.write( <a class="code" href="namespacekmaOrange.html#cef08b622a58aea82551e96b4d1dec5c">ORANGE_STRING</a>, <span class="keyword">sizeof</span>(<a class="code" href="namespacekmaOrange.html#cef08b622a58aea82551e96b4d1dec5c">ORANGE_STRING</a>) );
<a name="l01197"></a>01197         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01198"></a>01198 
<a name="l01199"></a>01199         <span class="keywordflow">return</span> 1;
<a name="l01200"></a>01200 }
<a name="l01201"></a>01201 
<a name="l01202"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#220a21911afc35f3b4801afc1d589e94">01202</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#220a21911afc35f3b4801afc1d589e94" title="This function writes the contents of the _mainTrie in the binary system dictionary...">Dictionary::writeMainTrie</a>( ostream&amp; fout )
<a name="l01203"></a>01203 {
<a name="l01204"></a>01204         <span class="keywordtype">int</span> bcPos                = <a class="code" href="classkmaOrange_1_1Dictionary.html#52eb564f4339216c94d197ca3cadb7e7" title="a WK_DaTrie object of lexical morphemes.">_mainTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#5ef6c2879707d53ad98e33ed9a99562f">getBcPos</a>() + 1;
<a name="l01205"></a>01205         <span class="keywordtype">int</span> tailPos              = <a class="code" href="classkmaOrange_1_1Dictionary.html#52eb564f4339216c94d197ca3cadb7e7" title="a WK_DaTrie object of lexical morphemes.">_mainTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#691a09e71153084e72c27abef781318f">getTailPos</a>() + 1;
<a name="l01206"></a>01206         <span class="keywordtype">int</span> bcEmptyStart = <a class="code" href="classkmaOrange_1_1Dictionary.html#52eb564f4339216c94d197ca3cadb7e7" title="a WK_DaTrie object of lexical morphemes.">_mainTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#79141779af95af6ea2f4e449e149f0cc">getBcEmptyStart</a>();
<a name="l01207"></a>01207         <span class="keywordtype">int</span> bcEmptyEnd   = <a class="code" href="classkmaOrange_1_1Dictionary.html#52eb564f4339216c94d197ca3cadb7e7" title="a WK_DaTrie object of lexical morphemes.">_mainTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#fc6dd41e1d99fae4cfaa432b8ca41608">getBcEmptyEnd</a>();
<a name="l01208"></a>01208 
<a name="l01209"></a>01209         fout.write( (<span class="keywordtype">char</span>*)&amp;bcPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01210"></a>01210         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01211"></a>01211 
<a name="l01212"></a>01212         fout.write( (<span class="keywordtype">char</span>*)&amp;tailPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01213"></a>01213         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01214"></a>01214 
<a name="l01215"></a>01215         fout.write( (<span class="keywordtype">char</span>*)&amp;bcEmptyStart, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01216"></a>01216         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01217"></a>01217 
<a name="l01218"></a>01218         fout.write( (<span class="keywordtype">char</span>*)&amp;bcEmptyEnd, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01219"></a>01219         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01220"></a>01220 
<a name="l01221"></a>01221         <span class="keywordflow">if</span>( (bcPos &gt; 1)
<a name="l01222"></a>01222                         &amp;&amp; fout.write((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#52eb564f4339216c94d197ca3cadb7e7" title="a WK_DaTrie object of lexical morphemes.">_mainTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#bde541a15af9eb87a19e77a1cf7cfff4">getBaseCheckArray</a>(), <span class="keyword">sizeof</span>(<a class="code" href="classkmaOrange_1_1WK__DaTrie__BaseCheck.html">WK_DaTrie_BaseCheck</a>)*bcPos) )
<a name="l01223"></a>01223         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01224"></a>01224 
<a name="l01225"></a>01225         <span class="keywordflow">if</span>( (tailPos &gt; 1)
<a name="l01226"></a>01226                         &amp;&amp; fout.write((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#52eb564f4339216c94d197ca3cadb7e7" title="a WK_DaTrie object of lexical morphemes.">_mainTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#d0bd9785aed0cfa5a57f1acb8ceaaab1">getTailBuffer</a>(), <span class="keyword">sizeof</span>(char)*tailPos) )
<a name="l01227"></a>01227         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01228"></a>01228 
<a name="l01229"></a>01229         <span class="keywordtype">int</span> sizeMainInfoPool = (int)<a class="code" href="classkmaOrange_1_1Dictionary.html#8b4809c5e4427e0a886ebb98ccb1458e" title="the information list of lexical morphemes.">_mainInfoPoolList</a>.size();
<a name="l01230"></a>01230 
<a name="l01231"></a>01231         fout.write( (<span class="keywordtype">char</span>*)&amp;sizeMainInfoPool, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01232"></a>01232         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01233"></a>01233 
<a name="l01234"></a>01234         <span class="keywordtype">int</span> i;
<a name="l01235"></a>01235         <span class="keywordflow">for</span>( i = 0; i &lt; sizeMainInfoPool; i++ )
<a name="l01236"></a>01236         {
<a name="l01237"></a>01237                 fout.write( (<span class="keywordtype">char</span>*)&amp;<a class="code" href="classkmaOrange_1_1Dictionary.html#8b4809c5e4427e0a886ebb98ccb1458e" title="the information list of lexical morphemes.">_mainInfoPoolList</a>[i], <span class="keyword">sizeof</span>(<a class="code" href="classMainTrieInfo.html" title="a class has additional information of the main trie( including NNG, NNB, NNP, NP...">MainTrieInfo</a>) );
<a name="l01238"></a>01238                 <span class="keywordflow">if</span>( fout.fail() )
<a name="l01239"></a>01239                 {
<a name="l01240"></a>01240                         cerr &lt;&lt; <span class="stringliteral">"during main Trie writing, file error occurred."</span> &lt;&lt; endl;
<a name="l01241"></a>01241                         <span class="keywordflow">return</span> 0;
<a name="l01242"></a>01242                 }
<a name="l01243"></a>01243         }
<a name="l01244"></a>01244 
<a name="l01245"></a>01245         <span class="keywordtype">int</span> sizeMainBuffer = <a class="code" href="classkmaOrange_1_1Dictionary.html#6d1c4742b3526ce18ef708b16afb9686" title="temporary buffer of lexical morphemes.">_mainBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#506499720e4e8cfdd18ac973d9ea9e71" title="This function gets the current position of the buffer.">getBufferPos</a>();
<a name="l01246"></a>01246 
<a name="l01247"></a>01247         fout.write( (<span class="keywordtype">char</span>*)&amp;sizeMainBuffer, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01248"></a>01248         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01249"></a>01249 
<a name="l01250"></a>01250         fout.write( (<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#6d1c4742b3526ce18ef708b16afb9686" title="temporary buffer of lexical morphemes.">_mainBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#05b1cadf0bc0a1ec4c5bb03fc02654bf" title="This function gets the starting pointer of the buffer.">getBufferPtr</a>(), <span class="keyword">sizeof</span>(char) * sizeMainBuffer );
<a name="l01251"></a>01251         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01252"></a>01252 
<a name="l01253"></a>01253         <span class="keywordflow">return</span> 1;
<a name="l01254"></a>01254 }
<a name="l01255"></a>01255 
<a name="l01256"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#c7ea4f013545ce948c25a0fbbd221ca8">01256</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#c7ea4f013545ce948c25a0fbbd221ca8" title="This function writes the contents of the _josaEomiTrie in the binary system dictionary...">Dictionary::writeJosaEomiTrie</a>( ostream&amp; fout )
<a name="l01257"></a>01257 {
<a name="l01258"></a>01258         <span class="keywordtype">int</span> bcPos                = <a class="code" href="classkmaOrange_1_1Dictionary.html#580a2bff4df42be6211a7695c77c3a41" title="a WK_DaTrie object of grammatical morphemes.">_josaEomiTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#5ef6c2879707d53ad98e33ed9a99562f">getBcPos</a>() + 1;
<a name="l01259"></a>01259         <span class="keywordtype">int</span> tailPos              = <a class="code" href="classkmaOrange_1_1Dictionary.html#580a2bff4df42be6211a7695c77c3a41" title="a WK_DaTrie object of grammatical morphemes.">_josaEomiTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#691a09e71153084e72c27abef781318f">getTailPos</a>() + 1;
<a name="l01260"></a>01260         <span class="keywordtype">int</span> bcEmptyStart = <a class="code" href="classkmaOrange_1_1Dictionary.html#580a2bff4df42be6211a7695c77c3a41" title="a WK_DaTrie object of grammatical morphemes.">_josaEomiTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#79141779af95af6ea2f4e449e149f0cc">getBcEmptyStart</a>();
<a name="l01261"></a>01261         <span class="keywordtype">int</span> bcEmptyEnd   = <a class="code" href="classkmaOrange_1_1Dictionary.html#580a2bff4df42be6211a7695c77c3a41" title="a WK_DaTrie object of grammatical morphemes.">_josaEomiTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#fc6dd41e1d99fae4cfaa432b8ca41608">getBcEmptyEnd</a>();
<a name="l01262"></a>01262 
<a name="l01263"></a>01263         fout.write( (<span class="keywordtype">char</span>*)&amp;bcPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01264"></a>01264         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01265"></a>01265 
<a name="l01266"></a>01266         fout.write( (<span class="keywordtype">char</span>*)&amp;tailPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01267"></a>01267         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01268"></a>01268 
<a name="l01269"></a>01269         fout.write( (<span class="keywordtype">char</span>*)&amp;bcEmptyStart, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01270"></a>01270         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01271"></a>01271 
<a name="l01272"></a>01272         fout.write( (<span class="keywordtype">char</span>*)&amp;bcEmptyEnd, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01273"></a>01273         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01274"></a>01274 
<a name="l01275"></a>01275         <span class="keywordflow">if</span> ((bcPos &gt; 1)
<a name="l01276"></a>01276                         &amp;&amp; fout.write((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#580a2bff4df42be6211a7695c77c3a41" title="a WK_DaTrie object of grammatical morphemes.">_josaEomiTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#bde541a15af9eb87a19e77a1cf7cfff4">getBaseCheckArray</a>(), <span class="keyword">sizeof</span>(<a class="code" href="classkmaOrange_1_1WK__DaTrie__BaseCheck.html">WK_DaTrie_BaseCheck</a>)*bcPos))
<a name="l01277"></a>01277         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01278"></a>01278 
<a name="l01279"></a>01279         <span class="keywordflow">if</span> ((tailPos &gt; 1)
<a name="l01280"></a>01280                         &amp;&amp; fout.write((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#580a2bff4df42be6211a7695c77c3a41" title="a WK_DaTrie object of grammatical morphemes.">_josaEomiTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#d0bd9785aed0cfa5a57f1acb8ceaaab1">getTailBuffer</a>(), <span class="keyword">sizeof</span>(char)*tailPos))
<a name="l01281"></a>01281         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01282"></a>01282 
<a name="l01283"></a>01283         <span class="keywordtype">int</span> sizeJosaEomiInfoPool = (int)<a class="code" href="classkmaOrange_1_1Dictionary.html#b9784b60c4c70b298bca88ab0857075b" title="the information list of grammatical morphemes.">_josaEomiInfoPoolList</a>.size();
<a name="l01284"></a>01284 
<a name="l01285"></a>01285         fout.write( (<span class="keywordtype">char</span>*)&amp;sizeJosaEomiInfoPool, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01286"></a>01286         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01287"></a>01287 
<a name="l01288"></a>01288         <span class="keywordtype">int</span> i;
<a name="l01289"></a>01289         <span class="keywordflow">for</span>( i = 0; i &lt; sizeJosaEomiInfoPool; i++ )
<a name="l01290"></a>01290         {
<a name="l01291"></a>01291                 fout.write( (<span class="keywordtype">char</span>*)&amp;<a class="code" href="classkmaOrange_1_1Dictionary.html#b9784b60c4c70b298bca88ab0857075b" title="the information list of grammatical morphemes.">_josaEomiInfoPoolList</a>[i], <span class="keyword">sizeof</span>(<a class="code" href="classJosaEomiTrieInfo.html" title="a class has information for making grammatical morphemes( postpositions or endings...">JosaEomiTrieInfo</a>) );
<a name="l01292"></a>01292                 <span class="keywordflow">if</span>( fout.fail() )
<a name="l01293"></a>01293                 {
<a name="l01294"></a>01294                         cerr &lt;&lt; <span class="stringliteral">"during main Trie writing, file error occurred."</span> &lt;&lt; endl;
<a name="l01295"></a>01295                         <span class="keywordflow">return</span> 0;
<a name="l01296"></a>01296                 }
<a name="l01297"></a>01297         }
<a name="l01298"></a>01298 
<a name="l01299"></a>01299         <span class="keywordtype">int</span> sizeJosaEomiBuffer = <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#506499720e4e8cfdd18ac973d9ea9e71" title="This function gets the current position of the buffer.">getBufferPos</a>();
<a name="l01300"></a>01300 
<a name="l01301"></a>01301         fout.write( (<span class="keywordtype">char</span>*)&amp;sizeJosaEomiBuffer, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01302"></a>01302         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01303"></a>01303 
<a name="l01304"></a>01304         fout.write( (<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1Buffer.html#05b1cadf0bc0a1ec4c5bb03fc02654bf" title="This function gets the starting pointer of the buffer.">getBufferPtr</a>(), <span class="keyword">sizeof</span>(char)         * sizeJosaEomiBuffer );
<a name="l01305"></a>01305 
<a name="l01306"></a>01306         <span class="keywordtype">int</span> sizeJosaEomiInfo = <a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#9b038ab505a0d970bc8a8dddef62f02c" title="This function gets the current position of the buffer.">getPos</a>();
<a name="l01307"></a>01307 
<a name="l01308"></a>01308         fout.write( (<span class="keywordtype">char</span>*)&amp;sizeJosaEomiInfo, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01309"></a>01309         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01310"></a>01310 
<a name="l01311"></a>01311         fout.write( (<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#636ee5050c0533db99ca8632c311389c" title="This function gets the starting pointer of the list of starting positions.">getIndexesPtr</a>(), <span class="keyword">sizeof</span>(int)         * sizeJosaEomiInfo );
<a name="l01312"></a>01312         fout.write( (<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#895da3d5f392bd96761102d707ac54f4" title="This function gets the starting pointer of the list of POS tags.">getTagsPtr</a>(),        <span class="keyword">sizeof</span>(int)     * sizeJosaEomiInfo );
<a name="l01313"></a>01313         fout.write( (<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#80d5bebfcc288edc6543e2d89c6e65a0" title="This function gets the starting pointer of the list of information codes.">getInfosPtr</a>(),       <span class="keyword">sizeof</span>(<span class="keywordtype">short</span> int) * sizeJosaEomiInfo );
<a name="l01314"></a>01314         fout.write( (<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#5de2ba7c4ee80c48f7d060a4d4fdff78" title="temporary buffer of grammatical morphemes.">_jeBuffer</a>.<a class="code" href="classkmaOrange_1_1JEBuffer.html#f7132e64eb9c4392442b8b34112ec88a" title="This function gets the starting pointer of the list of codas.">getCodasPtr</a>(),       <span class="keyword">sizeof</span>(char)    * sizeJosaEomiInfo );
<a name="l01315"></a>01315         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01316"></a>01316 
<a name="l01317"></a>01317         <span class="keywordflow">return</span> 1;
<a name="l01318"></a>01318 }
<a name="l01319"></a>01319 
<a name="l01320"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#8a9ffe32003af4423dbe33f9e29d8627">01320</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#8a9ffe32003af4423dbe33f9e29d8627" title="This function writes the contents of the _divTrie and _posTrie in the binary system...">Dictionary::writeDivPosTrie</a>( ostream&amp; fout )
<a name="l01321"></a>01321 {
<a name="l01322"></a>01322         <span class="keywordtype">int</span> bcPos                = <a class="code" href="classkmaOrange_1_1Dictionary.html#44cf3309fd7c7bbefa394ac6bc78fe56" title="a WK_DaTrie object of the division information for decomposing a compound noun.">_divTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#5ef6c2879707d53ad98e33ed9a99562f">getBcPos</a>() + 1;
<a name="l01323"></a>01323         <span class="keywordtype">int</span> tailPos              = <a class="code" href="classkmaOrange_1_1Dictionary.html#44cf3309fd7c7bbefa394ac6bc78fe56" title="a WK_DaTrie object of the division information for decomposing a compound noun.">_divTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#691a09e71153084e72c27abef781318f">getTailPos</a>() + 1;
<a name="l01324"></a>01324         <span class="keywordtype">int</span> bcEmptyStart = <a class="code" href="classkmaOrange_1_1Dictionary.html#44cf3309fd7c7bbefa394ac6bc78fe56" title="a WK_DaTrie object of the division information for decomposing a compound noun.">_divTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#79141779af95af6ea2f4e449e149f0cc">getBcEmptyStart</a>();
<a name="l01325"></a>01325         <span class="keywordtype">int</span> bcEmptyEnd   = <a class="code" href="classkmaOrange_1_1Dictionary.html#44cf3309fd7c7bbefa394ac6bc78fe56" title="a WK_DaTrie object of the division information for decomposing a compound noun.">_divTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#fc6dd41e1d99fae4cfaa432b8ca41608">getBcEmptyEnd</a>();
<a name="l01326"></a>01326 
<a name="l01327"></a>01327         fout.write( (<span class="keywordtype">char</span>*)&amp;bcPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01328"></a>01328         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01329"></a>01329 
<a name="l01330"></a>01330         fout.write( (<span class="keywordtype">char</span>*)&amp;tailPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01331"></a>01331         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01332"></a>01332 
<a name="l01333"></a>01333         fout.write( (<span class="keywordtype">char</span>*)&amp;bcEmptyStart, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01334"></a>01334         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01335"></a>01335 
<a name="l01336"></a>01336         fout.write( (<span class="keywordtype">char</span>*)&amp;bcEmptyEnd, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01337"></a>01337         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01338"></a>01338 
<a name="l01339"></a>01339         <span class="keywordflow">if</span> ((bcPos &gt; 1)
<a name="l01340"></a>01340                         &amp;&amp; fout.write((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#44cf3309fd7c7bbefa394ac6bc78fe56" title="a WK_DaTrie object of the division information for decomposing a compound noun.">_divTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#bde541a15af9eb87a19e77a1cf7cfff4">getBaseCheckArray</a>(), <span class="keyword">sizeof</span>(<a class="code" href="classkmaOrange_1_1WK__DaTrie__BaseCheck.html">WK_DaTrie_BaseCheck</a>)*bcPos))
<a name="l01341"></a>01341         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01342"></a>01342 
<a name="l01343"></a>01343         <span class="keywordflow">if</span> ((tailPos &gt; 1)
<a name="l01344"></a>01344                         &amp;&amp; fout.write((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#44cf3309fd7c7bbefa394ac6bc78fe56" title="a WK_DaTrie object of the division information for decomposing a compound noun.">_divTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#d0bd9785aed0cfa5a57f1acb8ceaaab1">getTailBuffer</a>(), <span class="keyword">sizeof</span>(char)*tailPos))
<a name="l01345"></a>01345         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01346"></a>01346 
<a name="l01347"></a>01347         <span class="keywordtype">int</span> sizeDivInfo = <a class="code" href="classkmaOrange_1_1Dictionary.html#dd2dc5534bc25b629ad4f99433afbbe5" title="the size of DivideInfo object.">_sizeDivInfo</a>;
<a name="l01348"></a>01348 
<a name="l01349"></a>01349         fout.write( (<span class="keywordtype">char</span>*)&amp;sizeDivInfo, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01350"></a>01350         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01351"></a>01351 
<a name="l01352"></a>01352         fout.write( (<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#eebf34672a311605acc6354875282b0b" title="the list of DivideInfo object.">_divideInfos</a>, <span class="keyword">sizeof</span>(<a class="code" href="classDivideInfo.html" title="a class has information to calculate scores of compound nouns.">DivideInfo</a>) * sizeDivInfo );
<a name="l01353"></a>01353         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01354"></a>01354 
<a name="l01356"></a>01356         <span class="comment">//                                                                                                                                                        //</span>
<a name="l01358"></a>01358 <span class="comment"></span>
<a name="l01359"></a>01359         bcPos            = <a class="code" href="classkmaOrange_1_1Dictionary.html#c644dfcaa9eada0ee9a9356f8fb3db5a" title="a WK_DaTrie object of the position information for decomposing a compound noun.">_posTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#5ef6c2879707d53ad98e33ed9a99562f">getBcPos</a>() + 1;
<a name="l01360"></a>01360         tailPos          = <a class="code" href="classkmaOrange_1_1Dictionary.html#c644dfcaa9eada0ee9a9356f8fb3db5a" title="a WK_DaTrie object of the position information for decomposing a compound noun.">_posTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#691a09e71153084e72c27abef781318f">getTailPos</a>() + 1;
<a name="l01361"></a>01361         bcEmptyStart = <a class="code" href="classkmaOrange_1_1Dictionary.html#c644dfcaa9eada0ee9a9356f8fb3db5a" title="a WK_DaTrie object of the position information for decomposing a compound noun.">_posTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#79141779af95af6ea2f4e449e149f0cc">getBcEmptyStart</a>();
<a name="l01362"></a>01362         bcEmptyEnd   = <a class="code" href="classkmaOrange_1_1Dictionary.html#c644dfcaa9eada0ee9a9356f8fb3db5a" title="a WK_DaTrie object of the position information for decomposing a compound noun.">_posTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#fc6dd41e1d99fae4cfaa432b8ca41608">getBcEmptyEnd</a>();
<a name="l01363"></a>01363 
<a name="l01364"></a>01364         fout.write( (<span class="keywordtype">char</span>*)&amp;bcPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01365"></a>01365         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01366"></a>01366 
<a name="l01367"></a>01367         fout.write( (<span class="keywordtype">char</span>*)&amp;tailPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01368"></a>01368         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01369"></a>01369 
<a name="l01370"></a>01370         fout.write( (<span class="keywordtype">char</span>*)&amp;bcEmptyStart, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01371"></a>01371         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01372"></a>01372 
<a name="l01373"></a>01373         fout.write( (<span class="keywordtype">char</span>*)&amp;bcEmptyEnd, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01374"></a>01374         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01375"></a>01375 
<a name="l01376"></a>01376         <span class="keywordflow">if</span> ((bcPos &gt; 1)
<a name="l01377"></a>01377                         &amp;&amp; fout.write((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#c644dfcaa9eada0ee9a9356f8fb3db5a" title="a WK_DaTrie object of the position information for decomposing a compound noun.">_posTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#bde541a15af9eb87a19e77a1cf7cfff4">getBaseCheckArray</a>(), <span class="keyword">sizeof</span>(<a class="code" href="classkmaOrange_1_1WK__DaTrie__BaseCheck.html">WK_DaTrie_BaseCheck</a>)*bcPos))
<a name="l01378"></a>01378         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01379"></a>01379 
<a name="l01380"></a>01380         <span class="keywordflow">if</span> ((tailPos &gt; 1)
<a name="l01381"></a>01381                         &amp;&amp; fout.write((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#c644dfcaa9eada0ee9a9356f8fb3db5a" title="a WK_DaTrie object of the position information for decomposing a compound noun.">_posTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#d0bd9785aed0cfa5a57f1acb8ceaaab1">getTailBuffer</a>(), <span class="keyword">sizeof</span>(char)*tailPos))
<a name="l01382"></a>01382         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01383"></a>01383 
<a name="l01384"></a>01384         <span class="keywordtype">int</span> sizePosInfo = <a class="code" href="classkmaOrange_1_1Dictionary.html#29cf18a61b8ae3d5d6122d0749ceb93f" title="the list of PosInfo object.">_sizePosInfo</a>;
<a name="l01385"></a>01385 
<a name="l01386"></a>01386         fout.write( (<span class="keywordtype">char</span>*)&amp;sizePosInfo, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01387"></a>01387         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01388"></a>01388 
<a name="l01389"></a>01389         fout.write( (<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#b0750343ed81ceb58888a3576f98d174" title="the list of PosInfo object.">_positionInfos</a>, <span class="keyword">sizeof</span>(<a class="code" href="classPosInfo.html" title="a class has information to calculate scores of compound nouns.">PosInfo</a>) * sizePosInfo );
<a name="l01390"></a>01390         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01391"></a>01391 
<a name="l01392"></a>01392         <span class="keywordflow">return</span> 1;
<a name="l01393"></a>01393 }
<a name="l01394"></a>01394 
<a name="l01395"></a><a class="code" href="classkmaOrange_1_1Dictionary.html#0a8a9746a6199a64ed7b7b340d982aeb">01395</a> <span class="keywordtype">int</span> <a class="code" href="classkmaOrange_1_1Dictionary.html#0a8a9746a6199a64ed7b7b340d982aeb" title="This function writes the contents of the _preanalTrie in the binary system dictionary...">Dictionary::writePreAnalysisTrie</a>( ostream&amp; fout )
<a name="l01396"></a>01396 {
<a name="l01397"></a>01397         <span class="keywordtype">int</span> bcPos                = <a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#5ef6c2879707d53ad98e33ed9a99562f">getBcPos</a>() + 1;
<a name="l01398"></a>01398         <span class="keywordtype">int</span> tailPos              = <a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#691a09e71153084e72c27abef781318f">getTailPos</a>() + 1;
<a name="l01399"></a>01399         <span class="keywordtype">int</span> bcEmptyStart = <a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#79141779af95af6ea2f4e449e149f0cc">getBcEmptyStart</a>();
<a name="l01400"></a>01400         <span class="keywordtype">int</span> bcEmptyEnd   = <a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#fc6dd41e1d99fae4cfaa432b8ca41608">getBcEmptyEnd</a>();
<a name="l01401"></a>01401 
<a name="l01402"></a>01402         fout.write( (<span class="keywordtype">char</span>*)&amp;bcPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01403"></a>01403         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01404"></a>01404 
<a name="l01405"></a>01405         fout.write( (<span class="keywordtype">char</span>*)&amp;tailPos, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01406"></a>01406         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01407"></a>01407 
<a name="l01408"></a>01408         fout.write( (<span class="keywordtype">char</span>*)&amp;bcEmptyStart, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01409"></a>01409         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01410"></a>01410 
<a name="l01411"></a>01411         fout.write( (<span class="keywordtype">char</span>*)&amp;bcEmptyEnd, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01412"></a>01412         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01413"></a>01413 
<a name="l01414"></a>01414         <span class="keywordflow">if</span> ((bcPos &gt; 1)
<a name="l01415"></a>01415                         &amp;&amp; fout.write((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#bde541a15af9eb87a19e77a1cf7cfff4">getBaseCheckArray</a>(), <span class="keyword">sizeof</span>(<a class="code" href="classkmaOrange_1_1WK__DaTrie__BaseCheck.html">WK_DaTrie_BaseCheck</a>)*bcPos))
<a name="l01416"></a>01416         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01417"></a>01417 
<a name="l01418"></a>01418         <span class="keywordflow">if</span> ((tailPos &gt; 1)
<a name="l01419"></a>01419                         &amp;&amp; fout.write((<span class="keywordtype">char</span>*)<a class="code" href="classkmaOrange_1_1Dictionary.html#686251e5b7eb7e91319d39f166806091" title="a WK_DaTrie object of the pre-analysis dictionary.">_preanalTrie</a>.<a class="code" href="classkmaOrange_1_1WK__DaTrie.html#d0bd9785aed0cfa5a57f1acb8ceaaab1">getTailBuffer</a>(), <span class="keyword">sizeof</span>(char)*tailPos))
<a name="l01420"></a>01420         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01421"></a>01421 
<a name="l01422"></a>01422         <span class="keywordtype">int</span> sizePreAnalBuffer = (int)<a class="code" href="classkmaOrange_1_1Dictionary.html#ed6bcde127ce4b739ab810bdd939ffca" title="a character buffer of the pre-analysis dictionary.">_preanalBuffer</a>.size();
<a name="l01423"></a>01423 
<a name="l01424"></a>01424         fout.write( (<span class="keywordtype">char</span>*)&amp;sizePreAnalBuffer, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) );
<a name="l01425"></a>01425         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01426"></a>01426 
<a name="l01427"></a>01427         <span class="keywordtype">char</span>* tempBuffer = <span class="keyword">new</span> <span class="keywordtype">char</span>[sizePreAnalBuffer+1];
<a name="l01428"></a>01428         <span class="keywordtype">int</span> i;
<a name="l01429"></a>01429         <span class="keywordflow">for</span>( i = 0; i &lt; sizePreAnalBuffer; i++ )
<a name="l01430"></a>01430         {
<a name="l01431"></a>01431                 tempBuffer[i] = <a class="code" href="classkmaOrange_1_1Dictionary.html#ed6bcde127ce4b739ab810bdd939ffca" title="a character buffer of the pre-analysis dictionary.">_preanalBuffer</a>[i];
<a name="l01432"></a>01432         }
<a name="l01433"></a>01433 
<a name="l01434"></a>01434         fout.write( (<span class="keywordtype">char</span>*)tempBuffer, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) * sizePreAnalBuffer );
<a name="l01435"></a>01435         <span class="keywordflow">if</span>( fout.fail() ) <span class="keywordflow">return</span> 0;
<a name="l01436"></a>01436 
<a name="l01437"></a>01437         <span class="keyword">delete</span> [] tempBuffer;
<a name="l01438"></a>01438 
<a name="l01439"></a>01439         <span class="keywordflow">return</span> 1;
<a name="l01440"></a>01440 }
<a name="l01441"></a>01441 
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Jul 1 18:14:41 2009 for la-manager by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
